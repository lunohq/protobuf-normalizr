!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports["protobuf-normalizr"]=e():t["protobuf-normalizr"]=e()}(this,function(){return function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),s=r(n),o=function(t){return t&&t.$type instanceof s["default"].Reflect.Message},f=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return t&&t.hasOwnProperty("id")&&null!==t.id||null!==e?!0:!1},a=function(t){return t.$type.fqn().toLowerCase()},h=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return e?e:t.get("id")},l=function(t,e,i,r){var n=arguments.length<=4||void 0===arguments[4]?null:arguments[4],s=e.get(t.name);if(t.repeated||f(s,n)){var o=a(e),l=h(e,n);r[o]||(r[o]={}),r[o][l]||(r[o][l]={});var u=r[o][l];t.repeated&&null!==s?(u[t.name]||(u[t.name]=[]),s.map(function(e){u[t.name].push(e.id),d(e,i,r)}),e.set(t.name,null)):null!==s&&f(s)&&(u[t.name]=s.id,d(s,i,r),e.set(t.name,null))}},u=function(t,e,i){var r=arguments.length<=3||void 0===arguments[3]?null:arguments[3];return t.$type.getChildren(s["default"].Reflect.Message.Field).map(function(n){l(n,t,e,i,r)}),t},g=function(t,e,i){var r=t.map(function(t){return d(t,e,i)});return r},p=function(t,e,i){var r=arguments.length<=3||void 0===arguments[3]?null:arguments[3],n=a(t),s=h(t,r);return e[n]||(e[n]={}),e[n][s]=t,u(t,e,i,r),s},d=function(t,e,i){var r=arguments.length<=3||void 0===arguments[3]?null:arguments[3];return o(t)&&f(t,r)?p(t,e,i,r):o(t)?u(t,e,i):t instanceof Array?g(t,e,i):t},c=function(t,e,i,r){if(r.normalizations[e]){var n=t.$type._fieldsByName,s=r.normalizations[e][i],o=function(e){var i=s[e],o=n[e].resolvedType.fqn().toLowerCase();i instanceof Array?(t.set(e,[]),i.map(function(i){t[e].push(r.entities[o][i])})):t.set(e,r.entities[o][i])};for(var f in s)o(f)}},y=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i={},r={},n=d(t,i,r,e);return{entities:i,normalizations:r,result:n}};e.normalize=y;var m=function(t,e,i){var r=a(e);if(i.entities[r]){var n=i.entities[r][t];return c(n,r,t,i),n}};e.denormalize=m,e["default"]=y},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,i){(function(t){function i(t,e){for(var i=0,r=t.length-1;r>=0;r--){var n=t[r];"."===n?t.splice(r,1):".."===n?(t.splice(r,1),i++):i&&(t.splice(r,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var i=[],r=0;r<t.length;r++)e(t[r],r,t)&&i.push(t[r]);return i}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(t){return n.exec(t).slice(1)};e.resolve=function(){for(var e="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var o=s>=0?arguments[s]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,n="/"===o.charAt(0))}return e=i(r(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),s="/"===o(t,-1);return t=i(r(t.split("/"),function(t){return!!t}),!n).join("/"),t||n||(t="."),t&&s&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,i){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;i>=0&&""===t[i];i--);return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var n=r(t.split("/")),s=r(i.split("/")),o=Math.min(n.length,s.length),f=o,a=0;o>a;a++)if(n[a]!==s[a]){f=a;break}for(var h=[],a=f;a<n.length;a++)h.push("..");return h=h.concat(s.slice(f)),h.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=s(t),i=e[0],r=e[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},e.basename=function(t,e){var i=s(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){return s(t)[3]};var o="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return 0>e&&(e=t.length+e),t.substr(e,i)}}).call(e,i(4))},function(t,e){function i(){h=!1,o.length?a=o.concat(a):l=-1,a.length&&r()}function r(){if(!h){var t=setTimeout(i);h=!0;for(var e=a.length;e;){for(o=a,a=[];++l<e;)o[l].run();l=-1,e=a.length}o=null,h=!1,clearTimeout(t)}}function n(t,e){this.fun=t,this.array=e}function s(){}var o,f=t.exports={},a=[],h=!1,l=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.push(new n(t,e)),1!==a.length||h||setTimeout(r,0)},n.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,i){var r,n,s;(function(t,o){/**
	 * @license ProtoBuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/ProtoBuf.js for details
	 */
!function(t,f){i(1).amd?(n=[i(6)],r=f,s="function"==typeof r?r.apply(e,n):r,!(void 0!==s&&(o.exports=s))):"object"==typeof o&&o&&o.exports?o.exports=f(i(9)):(t.dcodeIO=t.dcodeIO||{}).ProtoBuf=f(t.dcodeIO.ByteBuffer)}(this,function(e){"use strict";var r={};return r.ByteBuffer=e,r.Long=e.Long||null,r.VERSION="4.0.0",r.WIRE_TYPES={},r.WIRE_TYPES.VARINT=0,r.WIRE_TYPES.BITS64=1,r.WIRE_TYPES.LDELIM=2,r.WIRE_TYPES.STARTGROUP=3,r.WIRE_TYPES.ENDGROUP=4,r.WIRE_TYPES.BITS32=5,r.PACKABLE_WIRE_TYPES=[r.WIRE_TYPES.VARINT,r.WIRE_TYPES.BITS64,r.WIRE_TYPES.BITS32],r.TYPES={int32:{name:"int32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.ZERO:void 0},uint64:{name:"uint64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.UZERO:void 0},sint64:{name:"sint64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.ZERO:void 0},bool:{name:"bool",wireType:r.WIRE_TYPES.VARINT,defaultValue:!1},"double":{name:"double",wireType:r.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:r.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:r.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:r.WIRE_TYPES.BITS64,defaultValue:r.Long?r.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:r.WIRE_TYPES.BITS64,defaultValue:r.Long?r.Long.ZERO:void 0},"float":{name:"float",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},"enum":{name:"enum",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:r.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:r.WIRE_TYPES.STARTGROUP,defaultValue:null}},r.MAP_KEY_TYPES=[r.TYPES.int32,r.TYPES.sint32,r.TYPES.sfixed32,r.TYPES.uint32,r.TYPES.fixed32,r.TYPES.int64,r.TYPES.sint64,r.TYPES.sfixed64,r.TYPES.uint64,r.TYPES.fixed64,r.TYPES.bool,r.TYPES.string,r.TYPES.bytes],r.ID_MIN=1,r.ID_MAX=536870911,r.convertFieldsToCamelCase=!1,r.populateAccessors=!0,r.populateDefaults=!0,r.Util=function(){var e={};return e.IS_NODE=!("object"!=typeof t||t+""!="[object process]"),e.XHR=function(){for(var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],e=null,i=0;i<t.length;i++){try{e=t[i]()}catch(r){continue}break}if(!e)throw Error("XMLHttpRequest is not supported");return e},e.fetch=function(t,r){if(r&&"function"!=typeof r&&(r=null),e.IS_NODE)if(r)i(!function(){var t=new Error('Cannot find module "fs"');throw t.code="MODULE_NOT_FOUND",t}()).readFile(t,function(t,e){r(t?null:""+e)});else try{return i(!function(){var t=new Error('Cannot find module "fs"');throw t.code="MODULE_NOT_FOUND",t}()).readFileSync(t)}catch(n){return null}else{var s=e.XHR();if(s.open("GET",t,r?!0:!1),s.setRequestHeader("Accept","text/plain"),"function"==typeof s.overrideMimeType&&s.overrideMimeType("text/plain"),!r)return s.send(null),200==s.status||0==s.status&&"string"==typeof s.responseText?s.responseText:null;if(s.onreadystatechange=function(){4==s.readyState&&r(200==s.status||0==s.status&&"string"==typeof s.responseText?s.responseText:null)},4==s.readyState)return;s.send(null)}},e.toCamelCase=function(t){return t.replace(/_([a-zA-Z])/g,function(t,e){return e.toUpperCase()})},e}(),r.Lang={OPEN:"{",CLOSE:"}",OPTOPEN:"[",OPTCLOSE:"]",OPTEND:",",EQUAL:"=",END:";",COMMA:",",STRINGOPEN:'"',STRINGCLOSE:'"',STRINGOPEN_SQ:"'",STRINGCLOSE_SQ:"'",COPTOPEN:"(",COPTCLOSE:")",LT:"<",GT:">",DELIM:/[\s\{\}=;\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,BOOL:/^(?:true|false)$/i},r.DotProto=function(t,e){var i={},r=function(t){this.source=""+t,this.index=0,this.line=1,this.stack=[],this.readingString=!1,this.stringEndsWith=e.STRINGCLOSE},n=r.prototype;n._readString=function(){e.STRING.lastIndex=this.index-1;var t;if(null!==(t=e.STRING.exec(this.source))){var i="undefined"!=typeof t[1]?t[1]:t[2];return this.index=e.STRING.lastIndex,this.stack.push(this.stringEndsWith),i}throw Error("Unterminated string at line "+this.line+", index "+this.index)},n.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(this.readingString)return this.readingString=!1,this._readString();var t,i;do{for(t=!1;e.WHITESPACE.test(i=this.source.charAt(this.index));)if(this.index++,"\n"===i&&this.line++,this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if("/"===this.source.charAt(++this.index)){for(;"\n"!==this.source.charAt(this.index);)if(this.index++,this.index==this.source.length)return null;this.index++,this.line++,t=!0}else{if("*"!==this.source.charAt(this.index))throw Error("Unterminated comment at line "+this.line+": /"+this.source.charAt(this.index));for(i="";i+(i=this.source.charAt(this.index))!=="*/";)if(this.index++,"\n"===i&&this.line++,this.index===this.source.length)return null;this.index++,t=!0}}while(t);if(this.index===this.source.length)return null;var r=this.index;e.DELIM.lastIndex=0;var n=e.DELIM.test(this.source.charAt(r));if(n)++r;else for(++r;r<this.source.length&&!e.DELIM.test(this.source.charAt(r));)r++;var s=this.source.substring(this.index,this.index=r);return s===e.STRINGOPEN?(this.readingString=!0,this.stringEndsWith=e.STRINGCLOSE):s===e.STRINGOPEN_SQ&&(this.readingString=!0,this.stringEndsWith=e.STRINGCLOSE_SQ),s},n.peek=function(){if(0===this.stack.length){var t=this.next();if(null===t)return null;this.stack.push(t)}return this.stack[0]},n.toString=function(){return"Tokenizer("+this.index+"/"+this.source.length+" at line "+this.line+")"},i.Tokenizer=r;var s=function(t){this.tn=new r(t)},o=s.prototype;return o.parse=function(){for(var t,e={name:"[ROOT]","package":null,messages:[],enums:[],imports:[],options:{},services:[]},i=!0;t=this.tn.next();)switch(t){case"package":if(!i||null!==e["package"])throw Error("Unexpected package at line "+this.tn.line);e["package"]=this._parsePackage(t);break;case"import":if(!i)throw Error("Unexpected import at line "+this.tn.line);e.imports.push(this._parseImport(t));break;case"message":this._parseMessage(e,null,t),i=!1;break;case"enum":this._parseEnum(e,t),i=!1;break;case"option":this._parseOption(e,t);break;case"service":this._parseService(e,t);break;case"extend":this._parseExtend(e,t);break;case"syntax":e.syntax=this._parseSyntax(e);break;default:throw Error("Unexpected token at line "+this.tn.line+": "+t)}return delete e.name,e},o._parseNumber=function(t){var i=1;if("-"==t.charAt(0)&&(i=-1,t=t.substring(1)),e.NUMBER_DEC.test(t))return i*parseInt(t,10);if(e.NUMBER_HEX.test(t))return i*parseInt(t.substring(2),16);if(e.NUMBER_OCT.test(t))return i*parseInt(t.substring(1),8);if(e.NUMBER_FLT.test(t))return"inf"===t?i*(1/0):"nan"===t?NaN:i*parseFloat(t);throw Error("Illegal number at line "+this.tn.line+": "+(0>i?"-":"")+t)},o._parseString=function(){var t,i,r="";do{if(i=this.tn.next(),r+=this.tn.next(),t=this.tn.next(),t!==i)throw Error("Illegal end of string at line "+this.tn.line+": "+t);t=this.tn.peek()}while(t===e.STRINGOPEN||t===e.STRINGOPEN_SQ);return r},o._parseId=function(t,i){var r=-1,n=1;if("-"==t.charAt(0)&&(n=-1,t=t.substring(1)),e.NUMBER_DEC.test(t))r=parseInt(t);else if(e.NUMBER_HEX.test(t))r=parseInt(t.substring(2),16);else{if(!e.NUMBER_OCT.test(t))throw Error("Illegal id at line "+this.tn.line+": "+(0>n?"-":"")+t);r=parseInt(t.substring(1),8)}if(r=n*r|0,!i&&0>r)throw Error("Illegal id at line "+this.tn.line+": "+(0>n?"-":"")+t);return r},o._parsePackage=function(t){if(t=this.tn.next(),!e.TYPEREF.test(t))throw Error("Illegal package name at line "+this.tn.line+": "+t);var i=t;if(t=this.tn.next(),t!=e.END)throw Error("Illegal end of package at line "+this.tn.line+": "+t);return i},o._parseImport=function(t){if(t=this.tn.peek(),"public"===t&&(this.tn.next(),t=this.tn.peek()),t!==e.STRINGOPEN&&t!==e.STRINGOPEN_SQ)throw Error("Illegal start of import at line "+this.tn.line+": "+t);var i=this._parseString();if(t=this.tn.next(),t!==e.END)throw Error("Illegal end of import at line "+this.tn.line+": "+t);return i},o._parseOption=function(t,i){i=this.tn.next();var r=!1;if(i==e.COPTOPEN&&(r=!0,i=this.tn.next()),!e.TYPEREF.test(i)&&!/google\.protobuf\./.test(i))throw Error("Illegal option name in message "+t.name+" at line "+this.tn.line+": "+i);var n=i;if(i=this.tn.next(),r){if(i!==e.COPTCLOSE)throw Error("Illegal end in message "+t.name+", option "+n+" at line "+this.tn.line+": "+i);n="("+n+")",i=this.tn.next(),e.FQTYPEREF.test(i)&&(n+=i,i=this.tn.next())}if(i!==e.EQUAL)throw Error("Illegal operator in message "+t.name+", option "+n+" at line "+this.tn.line+": "+i);var s;if(i=this.tn.peek(),i===e.STRINGOPEN||i===e.STRINGOPEN_SQ)s=this._parseString();else if(this.tn.next(),e.NUMBER.test(i))s=this._parseNumber(i,!0);else if(e.BOOL.test(i))s="true"===i;else{if(!e.TYPEREF.test(i))throw Error("Illegal option value in message "+t.name+", option "+n+" at line "+this.tn.line+": "+i);s=i}if(i=this.tn.next(),i!==e.END)throw Error("Illegal end of option in message "+t.name+", option "+n+" at line "+this.tn.line+": "+i);t.options[n]=s},o._parseIgnoredStatement=function(t,i){for(var r;;){if(r=this.tn.next(),null===r)throw Error("Unexpected EOF in "+t.name+", "+i+" at line "+this.tn.line);if(r===e.END)break}},o._parseService=function(t,i){if(i=this.tn.next(),!e.NAME.test(i))throw Error("Illegal service name at line "+this.tn.line+": "+i);var r=i,n={name:r,rpc:{},options:{}};if(i=this.tn.next(),i!==e.OPEN)throw Error("Illegal start of service "+r+" at line "+this.tn.line+": "+i);do if(i=this.tn.next(),"option"===i)this._parseOption(n,i);else if("rpc"===i)this._parseServiceRPC(n,i);else if(i!==e.CLOSE)throw Error("Illegal type of service "+r+" at line "+this.tn.line+": "+i);while(i!==e.CLOSE);t.services.push(n)},o._parseServiceRPC=function(t,i){var r=i;if(i=this.tn.next(),!e.NAME.test(i))throw Error("Illegal method name in service "+t.name+" at line "+this.tn.line+": "+i);var n=i,s={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};if(i=this.tn.next(),i!==e.COPTOPEN)throw Error("Illegal start of request type in service "+t.name+"#"+n+" at line "+this.tn.line+": "+i);if(i=this.tn.next(),"stream"===i.toLowerCase()&&(s.request_stream=!0,i=this.tn.next()),!e.TYPEREF.test(i))throw Error("Illegal request type in service "+t.name+"#"+n+" at line "+this.tn.line+": "+i);if(s.request=i,i=this.tn.next(),i!=e.COPTCLOSE)throw Error("Illegal end of request type in service "+t.name+"#"+n+" at line "+this.tn.line+": "+i);if(i=this.tn.next(),"returns"!==i.toLowerCase())throw Error("Illegal delimiter in service "+t.name+"#"+n+" at line "+this.tn.line+": "+i);if(i=this.tn.next(),i!=e.COPTOPEN)throw Error("Illegal start of response type in service "+t.name+"#"+n+" at line "+this.tn.line+": "+i);if(i=this.tn.next(),"stream"===i.toLowerCase()&&(s.response_stream=!0,i=this.tn.next()),s.response=i,i=this.tn.next(),i!==e.COPTCLOSE)throw Error("Illegal end of response type in service "+t.name+"#"+n+" at line "+this.tn.line+": "+i);if(i=this.tn.next(),i===e.OPEN){do if(i=this.tn.next(),"option"===i)this._parseOption(s,i);else if(i!==e.CLOSE)throw Error("Illegal start of option inservice "+t.name+"#"+n+" at line "+this.tn.line+": "+i);while(i!==e.CLOSE);this.tn.peek()===e.END&&this.tn.next()}else if(i!==e.END)throw Error("Illegal delimiter in service "+t.name+"#"+n+" at line "+this.tn.line+": "+i);"undefined"==typeof t[r]&&(t[r]={}),t[r][n]=s},o._parseMessage=function(t,i,r){var n={},s="group"===r;if(r=this.tn.next(),!e.NAME.test(r))throw Error("Illegal "+(s?"group":"message")+" name"+(t?" in message "+t.name:"")+" at line "+this.tn.line+": "+r);if(n.name=r,s){if(r=this.tn.next(),r!==e.EQUAL)throw Error("Illegal id assignment after group "+n.name+" at line "+this.tn.line+": "+r);r=this.tn.next();try{i.id=this._parseId(r)}catch(o){throw Error("Illegal field id value for group "+n.name+"#"+i.name+" at line "+this.tn.line+": "+r)}n.isGroup=!0}if(n.fields=[],n.enums=[],n.messages=[],n.options={},n.oneofs={},r=this.tn.next(),r===e.OPTOPEN&&i&&(this._parseFieldOptions(n,i,r),r=this.tn.next()),r!==e.OPEN)throw Error("Illegal start of "+(s?"group":"message")+" "+n.name+" at line "+this.tn.line+": "+r);for(;;){if(r=this.tn.next(),r===e.CLOSE){r=this.tn.peek(),r===e.END&&this.tn.next();break}if(e.RULE.test(r))this._parseMessageField(n,r);else if("oneof"===r)this._parseMessageOneOf(n,r);else if("enum"===r)this._parseEnum(n,r);else if("message"===r)this._parseMessage(n,null,r);else if("option"===r)this._parseOption(n,r);else if("extensions"===r)n.extensions=this._parseExtensions(n,r);else if("extend"===r)this._parseExtend(n,r);else{if(!e.TYPEREF.test(r))throw Error("Illegal token in message "+n.name+" at line "+this.tn.line+": "+r);this._parseMessageField(n,"optional",r)}}return t.messages.push(n),n},o._parseMessageField=function(t,i,r){var n={},s=null;if(n.rule=i,n.options={},i="undefined"!=typeof r?r:this.tn.next(),"map"===n.rule){if(i!==e.LT)throw Error("Illegal token in message "+t.name+" at line "+this.tn.line+": "+i);if(i=this.tn.next(),!e.TYPE.test(i)&&!e.TYPEREF.test(i))throw Error("Illegal token in message "+t.name+" at line "+this.tn.line+": "+i);if(n.keytype=i,i=this.tn.next(),i!==e.COMMA)throw Error("Illegal token in message "+t.name+" at line "+this.tn.line+": "+i);if(i=this.tn.next(),!e.TYPE.test(i)&&!e.TYPEREF.test(i))throw Error("Illegal token in message "+t.name+" at line "+this.tn.line+": "+i);if(n.type=i,i=this.tn.next(),i!==e.GT)throw Error("Illegal token in message "+t.name+" at line "+this.tn.line+": "+i);if(i=this.tn.next(),!e.NAME.test(i))throw Error("Illegal token in message "+t.name+" at line "+this.tn.line+": "+i);if(n.name=i,i=this.tn.next(),i!==e.EQUAL)throw Error("Illegal token in field "+t.name+"#"+n.name+" at line "+this.line+": "+i);i=this.tn.next();try{n.id=this._parseId(i)}catch(o){throw Error("Illegal field id in message "+t.name+"#"+n.name+" at line "+this.tn.line+": "+i)}if(i=this.tn.next(),i===e.OPTOPEN&&(this._parseFieldOptions(t,n,i),i=this.tn.next()),i!==e.END)throw Error("Illegal delimiter in message "+t.name+"#"+n.name+" at line "+this.tn.line+": "+i)}else if("group"===i){if(s=this._parseMessage(t,n,i),!/^[A-Z]/.test(s.name))throw Error("Group names must start with a capital letter");n.type=s.name,n.name=s.name.toLowerCase(),i=this.tn.peek(),i===e.END&&this.tn.next()}else{if(!e.TYPE.test(i)&&!e.TYPEREF.test(i))throw Error("Illegal field type in message "+t.name+" at line "+this.tn.line+": "+i);if(n.type=i,i=this.tn.next(),!e.NAME.test(i))throw Error("Illegal field name in message "+t.name+" at line "+this.tn.line+": "+i);if(n.name=i,i=this.tn.next(),i!==e.EQUAL)throw Error("Illegal token in field "+t.name+"#"+n.name+" at line "+this.tn.line+": "+i);i=this.tn.next();try{n.id=this._parseId(i)}catch(o){throw Error("Illegal field id in message "+t.name+"#"+n.name+" at line "+this.tn.line+": "+i)}if(i=this.tn.next(),i===e.OPTOPEN&&(this._parseFieldOptions(t,n,i),i=this.tn.next()),i!==e.END)throw Error("Illegal delimiter in message "+t.name+"#"+n.name+" at line "+this.tn.line+": "+i)}return t.fields.push(n),n},o._parseMessageOneOf=function(t,i){if(i=this.tn.next(),!e.NAME.test(i))throw Error("Illegal oneof name in message "+t.name+" at line "+this.tn.line+": "+i);var r,n=i,s=[];if(i=this.tn.next(),i!==e.OPEN)throw Error("Illegal start of oneof "+n+" at line "+this.tn.line+": "+i);for(;this.tn.peek()!==e.CLOSE;)r=this._parseMessageField(t,"optional"),r.oneof=n,s.push(r.id);this.tn.next(),t.oneofs[n]=s},o._parseFieldOptions=function(t,i,r){for(var n=!0;;){if(r=this.tn.next(),r===e.OPTCLOSE)break;if(r===e.OPTEND){if(n)throw Error("Illegal start of options in message "+t.name+"#"+i.name+" at line "+this.tn.line+": "+r);r=this.tn.next()}this._parseFieldOption(t,i,r),n=!1}},o._parseFieldOption=function(t,i,r){var n=!1;if(r===e.COPTOPEN&&(r=this.tn.next(),n=!0),!e.TYPEREF.test(r))throw Error("Illegal field option in "+t.name+"#"+i.name+" at line "+this.tn.line+": "+r);var s=r;if(r=this.tn.next(),n){if(r!==e.COPTCLOSE)throw Error("Illegal delimiter in "+t.name+"#"+i.name+" at line "+this.tn.line+": "+r);s="("+s+")",r=this.tn.next(),e.FQTYPEREF.test(r)&&(s+=r,r=this.tn.next())}if(r!==e.EQUAL)throw Error("Illegal token in "+t.name+"#"+i.name+" at line "+this.tn.line+": "+r);var o;if(r=this.tn.peek(),r===e.STRINGOPEN||r===e.STRINGOPEN_SQ)o=this._parseString();else if(e.NUMBER.test(r,!0))o=this._parseNumber(this.tn.next(),!0);else if(e.BOOL.test(r))o="true"===this.tn.next().toLowerCase();else{if(!e.TYPEREF.test(r))throw Error("Illegal value in message "+t.name+"#"+i.name+", option "+s+" at line "+this.tn.line+": "+r);o=this.tn.next()}i.options[s]=o},o._parseEnum=function(t,i){var r={};if(i=this.tn.next(),!e.NAME.test(i))throw Error("Illegal enum name in message "+t.name+" at line "+this.tn.line+": "+i);if(r.name=i,i=this.tn.next(),i!==e.OPEN)throw Error("Illegal start of enum "+r.name+" at line "+this.tn.line+": "+i);for(r.values=[],r.options={};;){if(i=this.tn.next(),i===e.CLOSE){i=this.tn.peek(),i===e.END&&this.tn.next();break}if("option"==i)this._parseOption(r,i);else{if(!e.NAME.test(i))throw Error("Illegal name in enum "+r.name+" at line "+this.tn.line+": "+i);this._parseEnumValue(r,i)}}t.enums.push(r)},o._parseEnumValue=function(t,i){var r={};if(r.name=i,i=this.tn.next(),i!==e.EQUAL)throw Error("Illegal token in enum "+t.name+" at line "+this.tn.line+": "+i);i=this.tn.next();try{r.id=this._parseId(i,!0)}catch(n){throw Error("Illegal id in enum "+t.name+" at line "+this.tn.line+": "+i)}if(t.values.push(r),i=this.tn.next(),i===e.OPTOPEN){var s={options:{}};this._parseFieldOptions(t,s,i),i=this.tn.next()}if(i!==e.END)throw Error("Illegal delimiter in enum "+t.name+" at line "+this.tn.line+": "+i)},o._parseExtensions=function(i,r){var n=[];if(r=this.tn.next(),"min"===r?n.push(t.ID_MIN):"max"===r?n.push(t.ID_MAX):n.push(this._parseNumber(r)),r=this.tn.next(),"to"!==r)throw Error("Illegal extensions delimiter in message "+i.name+" at line "+this.tn.line+": "+r);if(r=this.tn.next(),"min"===r?n.push(t.ID_MIN):"max"===r?n.push(t.ID_MAX):n.push(this._parseNumber(r)),r=this.tn.next(),r!==e.END)throw Error("Illegal extensions delimiter in message "+i.name+" at line "+this.tn.line+": "+r);return n},o._parseExtend=function(t,i){if(i=this.tn.next(),!e.TYPEREF.test(i))throw Error("Illegal message name at line "+this.tn.line+": "+i);var r={};if(r.ref=i,r.fields=[],i=this.tn.next(),i!==e.OPEN)throw Error("Illegal start of extend "+r.name+" at line "+this.tn.line+": "+i);for(;;){if(i=this.tn.next(),i===e.CLOSE){i=this.tn.peek(),i==e.END&&this.tn.next();break}if(e.RULE.test(i))this._parseMessageField(r,i);else{if(!e.TYPEREF.test(i))throw Error("Illegal token in extend "+r.name+" at line "+this.tn.line+": "+i);this._parseMessageField(r,"optional",i)}}return t.messages.push(r),r},o._parseSyntax=function(t){var i=this.tn.next();if(i!==e.EQUAL)throw Error("Illegal token at line "+this.tn.line+": "+i);if(i=this.tn.peek(),i!==e.STRINGOPEN&&i!==e.STRINGOPEN_SQ)throw Error("Illegal token at line "+this.tn.line+": "+i);var r=this._parseString();if(i=this.tn.next(),i!==e.END)throw Error("Illegal token at line "+this.tn.line+": "+i);return r},o.toString=function(){return"Parser"},i.Parser=s,i}(r,r.Lang),r.Reflect=function(t){function i(i){if("string"==typeof i&&(i=t.TYPES[i]),"undefined"==typeof i.defaultValue)throw Error("default value for type "+i.name+" is not supported");return i==t.TYPES.bytes?new e(0):i.defaultValue}function r(e,i){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.unsigned&&e.low===e.low&&e.high===e.high)return new t.Long(e.low,e.high,"undefined"==typeof i?e.unsigned:i);if("string"==typeof e)return t.Long.fromString(e,i||!1,10);if("number"==typeof e)return t.Long.fromNumber(e,i||!1);throw Error("not convertible to Long")}function n(e,i){var r=i.readVarint32(),s=7&r,o=r>>>3;switch(s){case t.WIRE_TYPES.VARINT:do r=i.readUint8();while(128===(128&r));break;case t.WIRE_TYPES.BITS64:i.offset+=8;break;case t.WIRE_TYPES.LDELIM:r=i.readVarint32(),i.offset+=r;break;case t.WIRE_TYPES.STARTGROUP:n(o,i);break;case t.WIRE_TYPES.ENDGROUP:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.WIRE_TYPES.BITS32:i.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+s)}return!0}var s={},o=function(t,e,i){this.builder=t,this.parent=e,this.name=i,this.className},f=o.prototype;f.fqn=function(){for(var t=this.name,e=this;;){if(e=e.parent,null==e)break;t=e.name+"."+t}return t},f.toString=function(t){return(t?this.className+" ":"")+this.fqn()},f.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},s.T=o;var a=function(t,e,i,r,n){o.call(this,t,e,i),this.className="Namespace",this.children=[],this.options=r||{},this.syntax=n||"proto2"},h=a.prototype=Object.create(o.prototype);h.getChildren=function(t){if(t=t||null,null==t)return this.children.slice();for(var e=[],i=0,r=this.children.length;r>i;++i)this.children[i]instanceof t&&e.push(this.children[i]);return e},h.addChild=function(t){var e;if(e=this.getChild(t.name))if(e instanceof g.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName))e.name=e.originalName;else{if(!(t instanceof g.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+t.name);t.name=t.originalName}this.children.push(t)},h.getChild=function(t){for(var e="number"==typeof t?"id":"name",i=0,r=this.children.length;r>i;++i)if(this.children[i][e]===t)return this.children[i];return null},h.resolve=function(t,e){var i="string"==typeof t?t.split("."):t,r=this,n=0;if(""===i[n]){for(;null!==r.parent;)r=r.parent;n++}var o;do{do{if(!(r instanceof s.Namespace)){r=null;break}if(o=r.getChild(i[n]),!o||!(o instanceof s.T)||e&&!(o instanceof s.Namespace)){r=null;break}r=o,n++}while(n<i.length);if(null!=r)break;if(null!==this.parent)return this.parent.resolve(t,e)}while(null!=r);return r},h.qn=function(t){var e=[],i=t;do e.unshift(i.name),i=i.parent;while(null!==i);for(var r=1;r<=e.length;r++){var n=e.slice(e.length-r);if(t===this.resolve(n,t instanceof s.Namespace))return n.join(".")}return t.fqn()},h.build=function(){for(var t,e={},i=this.children,r=0,n=i.length;n>r;++r)t=i[r],t instanceof a&&(e[t.name]=t.build());return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this.buildOpt()}),e},h.buildOpt=function(){for(var t={},e=Object.keys(this.options),i=0,r=e.length;r>i;++i){var n=e[i],s=this.options[e[i]];t[n]=s}return t},h.getOption=function(t){return"undefined"==typeof t?this.options:"undefined"!=typeof this.options[t]?this.options[t]:null},s.Namespace=a;var l=function(e,i,r,n){if(this.type=e,this.resolvedType=i,this.isMapKey=r,this.syntax=n,r&&t.MAP_KEY_TYPES.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)},u=l.prototype;u.defaultFieldValue=i,u.verifyValue=function(i){var n=function(t,e){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+t+" ("+e+")")}.bind(this);switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:return("number"!=typeof i||i===i&&i%1!==0)&&n(typeof i,"not an integer"),i>4294967295?0|i:i;case t.TYPES.uint32:case t.TYPES.fixed32:return("number"!=typeof i||i===i&&i%1!==0)&&n(typeof i,"not an integer"),0>i?i>>>0:i;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:if(t.Long)try{return r(i,!1)}catch(s){n(typeof i,s.message)}else n(typeof i,"requires Long.js");case t.TYPES.uint64:case t.TYPES.fixed64:if(t.Long)try{return r(i,!0)}catch(s){n(typeof i,s.message)}else n(typeof i,"requires Long.js");case t.TYPES.bool:return"boolean"!=typeof i&&n(typeof i,"not a boolean"),i;case t.TYPES["float"]:case t.TYPES["double"]:return"number"!=typeof i&&n(typeof i,"not a number"),i;case t.TYPES.string:return"string"==typeof i||i&&i instanceof String||n(typeof i,"not a string"),""+i;case t.TYPES.bytes:return e.isByteBuffer(i)?i:e.wrap(i,"base64");case t.TYPES["enum"]:var o=this.resolvedType.getChildren(t.Reflect.Enum.Value);for(a=0;a<o.length;a++){if(o[a].name==i)return o[a].id;if(o[a].id==i)return o[a].id}if("proto3"===this.syntax)return("number"!=typeof i||i===i&&i%1!==0)&&n(typeof i,"not an integer"),(i>4294967295||0>i)&&n(typeof i,"not in range for uint32"),i;n(i,"not a valid enum value");case t.TYPES.group:case t.TYPES.message:if(i&&"object"==typeof i||n(typeof i,"object expected"),i instanceof this.resolvedType.clazz)return i;if(i instanceof t.Builder.Message){var f={};for(var a in i)i.hasOwnProperty(a)&&(f[a]=i[a]);i=f}return new this.resolvedType.clazz(i)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+i+" (undefined type "+this.type+")")},u.calculateLength=function(i,r){if(null===r)return 0;var n;switch(this.type){case t.TYPES.int32:return 0>r?e.calculateVarint64(r):e.calculateVarint32(r);case t.TYPES.uint32:return e.calculateVarint32(r);case t.TYPES.sint32:return e.calculateVarint32(e.zigZagEncode32(r));case t.TYPES.fixed32:case t.TYPES.sfixed32:case t.TYPES["float"]:return 4;case t.TYPES.int64:case t.TYPES.uint64:return e.calculateVarint64(r);case t.TYPES.sint64:return e.calculateVarint64(e.zigZagEncode64(r));case t.TYPES.fixed64:case t.TYPES.sfixed64:return 8;case t.TYPES.bool:return 1;case t.TYPES["enum"]:return e.calculateVarint32(r);case t.TYPES["double"]:return 8;case t.TYPES.string:return n=e.calculateUTF8Bytes(r),e.calculateVarint32(n)+n;case t.TYPES.bytes:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");return e.calculateVarint32(r.remaining())+r.remaining();case t.TYPES.message:return n=this.resolvedType.calculate(r),e.calculateVarint32(n)+n;case t.TYPES.group:return n=this.resolvedType.calculate(r),n+e.calculateVarint32(i<<3|t.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")},u.encodeValue=function(i,r,n){if(null===r)return n;switch(this.type){case t.TYPES.int32:0>r?n.writeVarint64(r):n.writeVarint32(r);break;case t.TYPES.uint32:n.writeVarint32(r);break;case t.TYPES.sint32:n.writeVarint32ZigZag(r);break;case t.TYPES.fixed32:n.writeUint32(r);break;case t.TYPES.sfixed32:n.writeInt32(r);break;case t.TYPES.int64:case t.TYPES.uint64:n.writeVarint64(r);break;case t.TYPES.sint64:n.writeVarint64ZigZag(r);break;case t.TYPES.fixed64:n.writeUint64(r);break;case t.TYPES.sfixed64:n.writeInt64(r);break;case t.TYPES.bool:"string"==typeof r?n.writeVarint32("false"===r.toLowerCase()?0:!!r):n.writeVarint32(r?1:0);break;case t.TYPES["enum"]:n.writeVarint32(r);break;case t.TYPES["float"]:n.writeFloat32(r);break;case t.TYPES["double"]:n.writeFloat64(r);break;case t.TYPES.string:n.writeVString(r);break;case t.TYPES.bytes:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");var s=r.offset;n.writeVarint32(r.remaining()),n.append(r),r.offset=s;break;case t.TYPES.message:var o=(new e).LE();this.resolvedType.encode(r,o),n.writeVarint32(o.offset),n.append(o.flip());break;case t.TYPES.group:this.resolvedType.encode(r,n),n.writeVarint32(i<<3|t.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")}return n},u.decode=function(e,i,r){if(i!=this.type.wireType)throw Error("Unexpected wire type for element");var n,s;switch(this.type){case t.TYPES.int32:return 0|e.readVarint32();case t.TYPES.uint32:return e.readVarint32()>>>0;case t.TYPES.sint32:return 0|e.readVarint32ZigZag();case t.TYPES.fixed32:return e.readUint32()>>>0;case t.TYPES.sfixed32:return 0|e.readInt32();case t.TYPES.int64:return e.readVarint64();case t.TYPES.uint64:return e.readVarint64().toUnsigned();case t.TYPES.sint64:return e.readVarint64ZigZag();case t.TYPES.fixed64:return e.readUint64();case t.TYPES.sfixed64:return e.readInt64();case t.TYPES.bool:return!!e.readVarint32();case t.TYPES["enum"]:return e.readVarint32();case t.TYPES["float"]:return e.readFloat();case t.TYPES["double"]:return e.readDouble();case t.TYPES.string:return e.readVString();case t.TYPES.bytes:if(s=e.readVarint32(),e.remaining()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+e.remaining());return n=e.clone(),n.limit=n.offset+s,e.offset+=s,n;case t.TYPES.message:return s=e.readVarint32(),this.resolvedType.decode(e,s);case t.TYPES.group:return this.resolvedType.decode(e,-1,r)}throw Error("[INTERNAL] Illegal decode type")},u.valueFromString=function(i){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return this.verifyValue(parseInt(i));case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return this.verifyValue(i);case t.TYPES.bool:return"true"===i;case t.TYPES.string:return this.verifyValue(i);case t.TYPES.bytes:return e.fromBinary(i)}},u.valueToString=function(e){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===t.TYPES.bytes?e.toString("binary"):e.toString()},s.Element=l;var g=function(e,i,r,n,s,o){a.call(this,e,i,r,n,o),this.className="Message",this.extensions=[t.ID_MIN,t.ID_MAX],this.clazz=null,this.isGroup=!!s,this._fields=null,this._fieldsById=null,this._fieldsByName=null},p=g.prototype=Object.create(a.prototype);p.build=function(i){if(this.clazz&&!i)return this.clazz;var r=function(t,i){function r(i,n,s,o,f){var a=void 0;if(null===i||"object"!=typeof i){if(o==t.TYPES["enum"])for(var h=f.getChildren(t.Reflect.Enum.Value),l=0;l<h.length;l++)if(h[l].id===i){i=h[l].name;break}a=i}else if(e.isByteBuffer(i))a=n?i.toBase64():i.toBuffer();else if(Array.isArray(i)){var u=i;a=[];for(var g=0;g<u.length;g++)a.push(r(u[g],n,s,o,f))}else if(i instanceof t.Map){var p=i.entries();a={};for(var d=p.next();!d.done;d=p.next())a[i.keyElem.valueToString(d.value[0])]=r(d.value[1],n,s,i.valueElem.type,i.valueElem.resolvedType)}else if(i instanceof t.Long)a=s?i.toString():new t.Long(i);else{a={};var c=i.$type,y=void 0;for(var l in i)if(i.hasOwnProperty(l)){var m=i[l];c&&(y=c.getChild(l)),a[l]=r(m,n,s,y.type,y.resolvedType)}}return a}var n=i.getChildren(t.Reflect.Message.Field),s=i.getChildren(t.Reflect.Message.OneOf),o=function(r,f){t.Builder.Message.call(this);for(var a=0,h=s.length;h>a;++a)this[s[a].name]=null;for(a=0,h=n.length;h>a;++a){var l=n[a];this[l.name]=l.repeated?[]:l.map?new t.Map(l):null,!l.required&&"proto3"!==i.syntax||null===l.defaultValue||(this[l.name]=l.defaultValue)}if(arguments.length>0){var u;if(1!==arguments.length||null===r||"object"!=typeof r||!("function"!=typeof r.encode||r instanceof o)||Array.isArray(r)||r instanceof t.Map||e.isByteBuffer(r)||r instanceof ArrayBuffer||t.Long&&r instanceof t.Long)for(a=0,h=arguments.length;h>a;++a)"undefined"!=typeof(u=arguments[a])&&this.$set(n[a].name,u);else this.$set(r)}},f=o.prototype=Object.create(t.Builder.Message.prototype);
f.add=function(e,r,n){var s=i._fieldsByName[e];if(!n){if(!s)throw Error(this+"#"+e+" is undefined");if(!(s instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));if(!s.repeated)throw Error(this+"#"+e+" is not a repeated field");r=s.verifyValue(r,!0)}return null===this[e]&&(this[e]=[]),this[e].push(r),this},f.$add=f.add,f.set=function(e,r,n){if(e&&"object"==typeof e){n=r;for(var s in e)e.hasOwnProperty(s)&&"undefined"!=typeof(r=e[s])&&this.$set(s,r,n);return this}var o=i._fieldsByName[e];if(n)this[e]=r;else{if(!o)throw Error(this+"#"+e+" is not a field: undefined");if(!(o instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));this[o.name]=r=o.verifyValue(r)}return o&&o.oneof&&(null!==r?(null!==this[o.oneof.name]&&(this[this[o.oneof.name]]=null),this[o.oneof.name]=o.name):o.oneof.name===e&&(this[o.oneof.name]=null)),this},f.$set=f.set,f.get=function(e,r){if(r)return this[e];var n=i._fieldsByName[e];if(!(n&&n instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(!(n instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+n.toString(!0));return this[n.name]},f.$get=f.get;for(var a=0;a<n.length;a++){var h=n[a];h instanceof t.Reflect.Message.ExtensionField||i.builder.options.populateAccessors&&function(t){var e=t.originalName.replace(/(_[a-zA-Z])/g,function(t){return t.toUpperCase().replace("_","")});e=e.substring(0,1).toUpperCase()+e.substring(1);var r=t.originalName.replace(/([A-Z])/g,function(t){return"_"+t}),n=function(e,i){return this[t.name]=i?e:t.verifyValue(e),this},s=function(){return this[t.name]};null===i.getChild("set"+e)&&(f["set"+e]=n),null===i.getChild("set_"+r)&&(f["set_"+r]=n),null===i.getChild("get"+e)&&(f["get"+e]=s),null===i.getChild("get_"+r)&&(f["get_"+r]=s)}(h)}f.encode=function(t,r){"boolean"==typeof t&&(r=t,t=void 0);var n=!1;t||(t=new e,n=!0);var s=t.littleEndian;try{return i.encode(this,t.LE(),r),(n?t.flip():t).LE(s)}catch(o){throw t.LE(s),o}},o.encode=function(t,e,i){return new o(t).encode(e,i)},f.calculate=function(){return i.calculate(this)},f.encodeDelimited=function(t){var r=!1;t||(t=new e,r=!0);var n=(new e).LE();return i.encode(this,n).flip(),t.writeVarint32(n.remaining()),t.append(n),r?t.flip():t},f.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toArrayBuffer()),t}},f.toArrayBuffer=f.encodeAB,f.encodeNB=function(){try{return this.encode().toBuffer()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toBuffer()),t}},f.toBuffer=f.encodeNB,f.encode64=function(){try{return this.encode().toBase64()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toBase64()),t}},f.toBase64=f.encode64,f.encodeHex=function(){try{return this.encode().toHex()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toHex()),t}},f.toHex=f.encodeHex,f.toRaw=function(e,i){return r(this,!!e,!!i,t.TYPES.message,this.$type)},f.encodeJSON=function(){return JSON.stringify(r(this,!0,!0,t.TYPES.message,this.$type))},o.decode=function(t,r){"string"==typeof t&&(t=e.wrap(t,r?r:"base64")),t=e.isByteBuffer(t)?t:e.wrap(t);var n=t.littleEndian;try{var s=i.decode(t.LE());return t.LE(n),s}catch(o){throw t.LE(n),o}},o.decodeDelimited=function(t,r){if("string"==typeof t&&(t=e.wrap(t,r?r:"base64")),t=e.isByteBuffer(t)?t:e.wrap(t),t.remaining()<1)return null;var n=t.offset,s=t.readVarint32();if(t.remaining()<s)return t.offset=n,null;try{var o=i.decode(t.slice(t.offset,t.offset+s).LE());return t.offset+=s,o}catch(f){throw t.offset+=s,f}},o.decode64=function(t){return o.decode(t,"base64")},o.decodeHex=function(t){return o.decode(t,"hex")},o.decodeJSON=function(t){return new o(JSON.parse(t))},f.toString=function(){return i.toString()};return Object.defineProperty&&(Object.defineProperty(o,"$options",{value:i.buildOpt()}),Object.defineProperty(f,"$options",{value:o.$options}),Object.defineProperty(o,"$type",{value:i}),Object.defineProperty(f,"$type",{value:i})),o}(t,this);this._fields=[],this._fieldsById={},this._fieldsByName={};for(var n,s=0,o=this.children.length;o>s;s++)if(n=this.children[s],n instanceof w||n instanceof g||n instanceof I){if(r.hasOwnProperty(n.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+n.toString(!0)+" cannot override static property '"+n.name+"'");r[n.name]=n.build()}else if(n instanceof g.Field)n.build(),this._fields.push(n),this._fieldsById[n.id]=n,this._fieldsByName[n.name]=n;else if(!(n instanceof g.OneOf||n instanceof b))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[s].toString(!0));return this.clazz=r},p.encode=function(t,e,i){for(var r,n,s=null,o=0,f=this._fields.length;f>o;++o)r=this._fields[o],n=t[r.name],r.required&&null===n?null===s&&(s=r):r.encode(i?n:r.verifyValue(n),e);if(null!==s){var a=Error("Missing at least one required field for "+this.toString(!0)+": "+s);throw a.encoded=e,a}return e},p.calculate=function(t){for(var e,i,r=0,n=0,s=this._fields.length;s>n;++n){if(e=this._fields[n],i=t[e.name],e.required&&null===i)throw Error("Missing at least one required field for "+this.toString(!0)+": "+e);r+=e.calculate(i)}return r},p.decode=function(e,i,r){i="number"==typeof i?i:-1;for(var s,o,f,a,h=e.offset,l=new this.clazz;e.offset<h+i||-1===i&&e.remaining()>0;){if(s=e.readVarint32(),o=7&s,f=s>>>3,o===t.WIRE_TYPES.ENDGROUP){if(f!==r)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+f+" ("+(r?r+" expected":"not a group")+")");break}if(a=this._fieldsById[f])if(a.repeated&&!a.options.packed)l[a.name].push(a.decode(o,e));else if(a.map){var u=a.decode(o,e);l[a.name].set(u[0],u[1])}else l[a.name]=a.decode(o,e),a.oneof&&(null!==this[a.oneof.name]&&(this[this[a.oneof.name]]=null),l[a.oneof.name]=a.name);else switch(o){case t.WIRE_TYPES.VARINT:e.readVarint32();break;case t.WIRE_TYPES.BITS32:e.offset+=4;break;case t.WIRE_TYPES.BITS64:e.offset+=8;break;case t.WIRE_TYPES.LDELIM:var g=e.readVarint32();e.offset+=g;break;case t.WIRE_TYPES.STARTGROUP:for(;n(f,e););break;default:throw Error("Illegal wire type for unknown field "+f+" in "+this.toString(!0)+"#decode: "+o)}}for(var p=0,d=this._fields.length;d>p;++p)if(a=this._fields[p],null===l[a.name]){if(a.required){var c=Error("Missing at least one required field for "+this.toString(!0)+": "+a.name);throw c.decoded=l,c}t.populateDefaults&&null!==a.defaultValue&&(l[a.name]=a.defaultValue)}return l},s.Message=g;var d=function(e,i,r,n,s,f,a,h,l,u){o.call(this,e,i,f),this.className="Message.Field",this.required="required"===r,this.repeated="repeated"===r,this.map="map"===r,this.keyType=n||null,this.type=s,this.resolvedType=null,this.id=a,this.options=h||{},this.defaultValue=null,this.oneof=l||null,this.syntax=u||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options.convertFieldsToCamelCase||this instanceof g.ExtensionField||(this.name=t.Util.toCamelCase(this.name))},c=d.prototype=Object.create(o.prototype);c.build=function(){this.element=new l(this.type,this.resolvedType,!1,this.syntax),this.map&&(this.keyElement=new l(this.keyType,void 0,!0,this.syntax)),this.defaultValue="undefined"!=typeof this.options["default"]?this.verifyValue(this.options["default"]):null,"proto3"!==this.syntax||this.repeated||this.map||(this.defaultValue=this.element.defaultFieldValue(this.type))},c.verifyValue=function(e,i){i=i||!1;var r=function(t,e){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+t+" ("+e+")")}.bind(this);if(null===e)return this.required&&r(typeof e,"required"),"proto3"===this.syntax&&this.type!==t.TYPES.message&&r(typeof e,"proto3 field without field presence cannot be null"),null;var n;if(this.repeated&&!i){Array.isArray(e)||(e=[e]);var s=[];for(n=0;n<e.length;n++)s.push(this.element.verifyValue(e[n]));return s}return this.map&&!i?e instanceof t.Map?e:(e instanceof Object||r(typeof e,"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.repeated&&Array.isArray(e)&&r(typeof e,"no array expected"),this.element.verifyValue(e))},c.hasWirePresence=function(e){if("proto3"!==this.syntax)return null!==e;switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return 0!==e;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return 0!==e.low||0!==e.high;case t.TYPES.bool:return e;case t.TYPES["float"]:case t.TYPES["double"]:return 0!==e;case t.TYPES.string:return e.length>0;case t.TYPES.bytes:return e.remaining()>0;case t.TYPES["enum"]:return 0!==e;case t.TYPES.message:return null!==e;default:return!0}},c.encode=function(i,r){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===i||this.repeated&&0==i.length)return r;try{if(this.repeated){var n;if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1);var s=r.offset;for(n=0;n<i.length;n++)this.element.encodeValue(this.id,i[n],r);var o=r.offset-s,f=e.calculateVarint32(o);if(f>1){var a=r.slice(s,r.offset);s+=f-1,r.offset=s,r.append(a)}r.writeVarint32(o,s-f)}else for(n=0;n<i.length;n++)r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,i[n],r)}else this.map?i.forEach(function(i,n,s){var o=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,n)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,i);r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.writeVarint32(o),r.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,n,r),r.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,i,r)},this):this.hasWirePresence(i)&&(r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,i,r))}catch(h){throw Error("Illegal value for "+this.toString(!0)+": "+i+" ("+h+")")}return r},c.calculate=function(i){if(i=this.verifyValue(i),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===i||this.repeated&&0==i.length)return 0;var r=0;try{if(this.repeated){var n,s;if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(r+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),s=0,n=0;n<i.length;n++)s+=this.element.calculateLength(this.id,i[n]);r+=e.calculateVarint32(s),r+=s}else for(n=0;n<i.length;n++)r+=e.calculateVarint32(this.id<<3|this.type.wireType),r+=this.element.calculateLength(this.id,i[n])}else this.map?i.forEach(function(i,n,s){var o=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,n)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,i);r+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r+=e.calculateVarint32(o),r+=o},this):this.hasWirePresence(i)&&(r+=e.calculateVarint32(this.id<<3|this.type.wireType),r+=this.element.calculateLength(this.id,i))}catch(o){throw Error("Illegal value for "+this.toString(!0)+": "+i+" ("+o+")")}return r},c.decode=function(e,i,r){var n,s,o=!this.map&&e==this.type.wireType||!r&&this.repeated&&this.options.packed&&e==t.WIRE_TYPES.LDELIM||this.map&&e==t.WIRE_TYPES.LDELIM;if(!o)throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==t.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!r){s=i.readVarint32(),s=i.offset+s;for(var f=[];i.offset<s;)f.push(this.decode(this.type.wireType,i,!0));return f}if(this.map){var a=this.keyElement.defaultFieldValue(this.keyType);if(n=this.element.defaultFieldValue(this.type),s=i.readVarint32(),i.remaining()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+i.remaining());var h=i.clone();for(h.limit=h.offset+s,i.offset+=s;h.remaining()>0;){var l=h.readVarint32();e=7&l;var u=l>>>3;if(1===u)a=this.keyElement.decode(h,e,u);else{if(2!==u)throw Error("Unexpected tag in map field key/value submessage");n=this.element.decode(h,e,u)}}return[a,n]}return this.element.decode(i,e,this.id)},s.Message.Field=d;var y=function(t,e,i,r,n,s,o){d.call(this,t,e,i,null,r,n,s,o),this.extension};y.prototype=Object.create(d.prototype),s.Message.ExtensionField=y;var m=function(t,e,i){o.call(this,t,e,i),this.fields=[]};s.Message.OneOf=m;var w=function(t,e,i,r,n){a.call(this,t,e,i,r,n),this.className="Enum",this.object=null},v=w.prototype=Object.create(a.prototype);v.build=function(){for(var t={},e=this.getChildren(w.Value),i=0,r=e.length;r>i;++i)t[e[i].name]=e[i].id;return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),this.object=t},s.Enum=w;var E=function(t,e,i,r){o.call(this,t,e,i),this.className="Enum.Value",this.id=r};E.prototype=Object.create(o.prototype),s.Enum.Value=E;var b=function(t,e,i,r){o.call(this,t,e,i),this.field=r};b.prototype=Object.create(o.prototype),s.Extension=b;var I=function(t,e,i,r){a.call(this,t,e,i,r),this.className="Service",this.clazz=null},T=I.prototype=Object.create(a.prototype);T.build=function(i){return this.clazz&&!i?this.clazz:this.clazz=function(t,i){for(var r=function(e){t.Builder.Service.call(this),this.rpcImpl=e||function(t,e,i){setTimeout(i.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},n=r.prototype=Object.create(t.Builder.Service.prototype),s=i.getChildren(t.Reflect.Service.RPCMethod),o=0;o<s.length;o++)!function(t){n[t.name]=function(r,n){try{try{r=t.resolvedRequestType.clazz.decode(e.wrap(r))}catch(s){if(!(s instanceof TypeError))throw s}if(!(r&&r instanceof t.resolvedRequestType.clazz))return void setTimeout(n.bind(this,Error("Illegal request type provided to service method "+i.name+"#"+t.name)),0);this.rpcImpl(t.fqn(),r,function(e,r){if(e)return void n(e);try{r=t.resolvedResponseType.clazz.decode(r)}catch(s){}return r&&r instanceof t.resolvedResponseType.clazz?void n(null,r):void n(Error("Illegal response type received in service method "+i.name+"#"+t.name))})}catch(s){setTimeout(n.bind(this,s),0)}},r[t.name]=function(e,i,n){new r(e)[t.name](i,n)},Object.defineProperty&&(Object.defineProperty(r[t.name],"$options",{value:t.buildOpt()}),Object.defineProperty(n[t.name],"$options",{value:r[t.name].$options}))}(s[o]);return Object.defineProperty&&(Object.defineProperty(r,"$options",{value:i.buildOpt()}),Object.defineProperty(n,"$options",{value:r.$options}),Object.defineProperty(r,"$type",{value:i}),Object.defineProperty(n,"$type",{value:i})),r}(t,this)},s.Service=I;var L=function(t,e,i,r){o.call(this,t,e,i),this.className="Service.Method",this.options=r||{}},N=L.prototype=Object.create(o.prototype);N.buildOpt=h.buildOpt,s.Service.Method=L;var S=function(t,e,i,r,n,s,o,f){L.call(this,t,e,i,f),this.className="Service.RPCMethod",this.requestName=r,this.responseName=n,this.requestStream=s,this.responseStream=o,this.resolvedRequestType=null,this.resolvedResponseType=null};return S.prototype=Object.create(L.prototype),s.Service.RPCMethod=S,s}(r),r.Builder=function(t,e,r){function n(t,e){e.syntax=t,e.messages&&e.messages.forEach(function(e){n(t,e)}),e.enums&&e.enums.forEach(function(e){n(t,e)})}var s=function(t){this.ns=new r.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=t||{}},o=s.prototype;return o.reset=function(){this.ptr=this.ns},o.define=function(t){if("string"!=typeof t||!e.TYPEREF.test(t))throw Error("Illegal package: "+t);var i,n,s=t.split(".");for(i=0;i<s.length;i++)if(!e.NAME.test(s[i]))throw Error("Illegal package: "+s[i]);for(i=0;i<s.length;i++)n=this.ptr.getChild(s[i]),null===n&&this.ptr.addChild(n=new r.Namespace(this,this.ptr,s[i])),this.ptr=n;return this},s.isValidMessage=function(t){if("string"!=typeof t.name||!e.NAME.test(t.name))return!1;if("undefined"!=typeof t.values||"undefined"!=typeof t.rpc)return!1;var i;if("undefined"!=typeof t.fields){if(!Array.isArray(t.fields))return!1;var r,n=[];for(i=0;i<t.fields.length;i++){if(!s.isValidMessageField(t.fields[i]))return!1;if(r=parseInt(t.fields[i].id,10),n.indexOf(r)>=0)return!1;n.push(r)}n=null}if("undefined"!=typeof t.enums){if(!Array.isArray(t.enums))return!1;for(i=0;i<t.enums.length;i++)if(!s.isValidEnum(t.enums[i]))return!1}if("undefined"!=typeof t.messages){if(!Array.isArray(t.messages))return!1;for(i=0;i<t.messages.length;i++)if(!s.isValidMessage(t.messages[i])&&!s.isValidExtend(t.messages[i]))return!1}if("undefined"!=typeof t.extensions&&(!Array.isArray(t.extensions)||2!==t.extensions.length||"number"!=typeof t.extensions[0]||"number"!=typeof t.extensions[1]))return!1;if("proto3"===t.syntax){for(i=0;i<t.fields.length;i++){var o=t.fields[i];if("required"===o.rule)return!1;if(o["default"])return!1;if(o.options)for(var f=Object.keys(o.options),a=0;a<f.length;a++)if("default"===f[a])return!1}if(t.extensions)return!1}return!0},s.isValidMessageField=function(t){if("string"!=typeof t.rule||"string"!=typeof t.name||"string"!=typeof t.type||"undefined"==typeof t.id)return!1;if(!(e.RULE.test(t.rule)&&e.NAME.test(t.name)&&e.TYPEREF.test(t.type)&&e.ID.test(""+t.id)))return!1;if("undefined"!=typeof t.options){if("object"!=typeof t.options)return!1;for(var i,r=Object.keys(t.options),n=0;n<r.length;n++)if("string"!=typeof(i=r[n])||"string"!=typeof t.options[i]&&"number"!=typeof t.options[i]&&"boolean"!=typeof t.options[i])return!1}return!0},s.isValidEnum=function(t){if("string"!=typeof t.name||!e.NAME.test(t.name))return!1;if("undefined"==typeof t.values||!Array.isArray(t.values)||0==t.values.length)return!1;for(var i=0;i<t.values.length;i++){if("object"!=typeof t.values[i])return!1;if("string"!=typeof t.values[i].name||"undefined"==typeof t.values[i].id)return!1;if(!e.NAME.test(t.values[i].name)||!e.NEGID.test(""+t.values[i].id))return!1}return"proto3"===t.syntax&&0!==t.values[0].id?!1:!0},o.create=function(e){if(!e)return this;if(Array.isArray(e)){if(0===e.length)return this;e=e.slice()}else e=[e];var i=[];for(i.push(e);i.length>0;){if(e=i.pop(),!Array.isArray(e))throw Error("Not a valid namespace: "+JSON.stringify(e));for(;e.length>0;){var n=e.shift();if(s.isValidMessage(n)){var o=new r.Message(this,this.ptr,n.name,n.options,n.isGroup,n.syntax),f={};if(n.oneofs)for(var a=Object.keys(n.oneofs),h=0,l=a.length;l>h;++h)o.addChild(f[a[h]]=new r.Message.OneOf(this,o,a[h]));if(n.fields&&n.fields.length>0)for(h=0,l=n.fields.length;l>h;++h){var u=n.fields[h];if(null!==o.getChild(u.id))throw Error("Duplicate field id in message "+o.name+": "+u.id);if(u.options)for(var g=Object.keys(u.options),p=0,d=g.length;d>p;++p){if("string"!=typeof g[p])throw Error("Illegal field option name in message "+o.name+"#"+u.name+": "+g[p]);if("string"!=typeof u.options[g[p]]&&"number"!=typeof u.options[g[p]]&&"boolean"!=typeof u.options[g[p]])throw Error("Illegal field option value in message "+o.name+"#"+u.name+"#"+g[p]+": "+u.options[g[p]])}var c=null;if("string"==typeof u.oneof&&(c=f[u.oneof],"undefined"==typeof c))throw Error("Illegal oneof in message "+o.name+"#"+u.name+": "+u.oneof);u=new r.Message.Field(this,o,u.rule,u.keytype,u.type,u.name,u.id,u.options,c,n.syntax),c&&c.fields.push(u),o.addChild(u)}var y=[];if("undefined"!=typeof n.enums&&n.enums.length>0)for(h=0;h<n.enums.length;h++)y.push(n.enums[h]);if(n.messages&&n.messages.length>0)for(h=0;h<n.messages.length;h++)y.push(n.messages[h]);if(n.services&&n.services.length>0)for(h=0;h<n.services.length;h++)y.push(n.services[h]);if(n.extensions&&(o.extensions=n.extensions,o.extensions[0]<t.ID_MIN&&(o.extensions[0]=t.ID_MIN),o.extensions[1]>t.ID_MAX&&(o.extensions[1]=t.ID_MAX)),this.ptr.addChild(o),y.length>0){i.push(e),e=y,y=null,this.ptr=o,o=null;continue}y=null,o=null}else if(s.isValidEnum(n)){for(o=new r.Enum(this,this.ptr,n.name,n.options,n.syntax),h=0;h<n.values.length;h++)o.addChild(new r.Enum.Value(this,o,n.values[h].name,n.values[h].id));this.ptr.addChild(o),o=null}else if(s.isValidService(n)){o=new r.Service(this,this.ptr,n.name,n.options);for(h in n.rpc)n.rpc.hasOwnProperty(h)&&o.addChild(new r.Service.RPCMethod(this,o,h,n.rpc[h].request,n.rpc[h].response,!!n.rpc[h].request_stream,!!n.rpc[h].response_stream,n.rpc[h].options));this.ptr.addChild(o),o=null}else{if(!s.isValidExtend(n))throw Error("Not a valid definition: "+JSON.stringify(n));if(o=this.ptr.resolve(n.ref,!0))for(h=0;h<n.fields.length;h++){if(null!==o.getChild(n.fields[h].id))throw Error("Duplicate extended field id in message "+o.name+": "+n.fields[h].id);if(n.fields[h].id<o.extensions[0]||n.fields[h].id>o.extensions[1])throw Error("Illegal extended field id in message "+o.name+": "+n.fields[h].id+" ("+o.extensions.join(" to ")+" expected)");var m=n.fields[h].name;this.options.convertFieldsToCamelCase&&(m=t.Util.toCamelCase(n.fields[h].name)),u=new r.Message.ExtensionField(this,o,n.fields[h].rule,n.fields[h].type,this.ptr.fqn()+"."+m,n.fields[h].id,n.fields[h].options);var w=new r.Extension(this,this.ptr,n.fields[h].name,u);u.extension=w,this.ptr.addChild(w),o.addChild(u)}else if(!/\.?google\.protobuf\./.test(n.ref))throw Error("Extended message "+n.ref+" is not defined")}n=null}e=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},o["import"]=function(e,r){if("string"==typeof r){if(t.Util.IS_NODE&&(r=i(3).resolve(r)),this.files[r]===!0)return this.reset(),this;this.files[r]=!0}else if("object"==typeof r){var s=r.root;t.Util.IS_NODE&&(s=i(3).resolve(s));var o=[s,r.file].join("/");if(this.files[o]===!0)return this.reset(),this;this.files[o]=!0}if(e.imports&&e.imports.length>0){var f,a="/",h=!1;"object"==typeof r?(this.importRoot=r.root,h=!0,f=this.importRoot,r=r.file,(f.indexOf("\\")>=0||r.indexOf("\\")>=0)&&(a="\\")):"string"==typeof r?this.importRoot?f=this.importRoot:r.indexOf("/")>=0?(f=r.replace(/\/[^\/]*$/,""),""===f&&(f="/")):r.indexOf("\\")>=0?(f=r.replace(/\\[^\\]*$/,""),a="\\"):f=".":f=null;for(var l=0;l<e.imports.length;l++)if("string"==typeof e.imports[l]){if(!f)throw Error("Cannot determine import root: File name is unknown");var u=e.imports[l];if("google/protobuf/descriptor.proto"===u)continue;if(u=f+a+u,this.files[u]===!0)continue;/\.proto$/i.test(u)&&!t.DotProto&&(u=u.replace(/\.proto$/,".json"));var g=t.Util.fetch(u);if(null===g)throw Error("Failed to import '"+u+"' in '"+r+"': File not found");/\.json$/i.test(u)?this["import"](JSON.parse(g+""),u):this["import"](new t.DotProto.Parser(g+"").parse(),u)}else r?/\.(\w+)$/.test(r)?this["import"](e.imports[l],r.replace(/^(.+)\.(\w+)$/,function(t,e,i){return e+"_import"+l+"."+i})):this["import"](e.imports[l],r+"_import"+l):this["import"](e.imports[l]);h&&(this.importRoot=null)}e["package"]&&this.define(e["package"]),e.syntax&&n(e.syntax,e);var p=this.ptr;return e.options&&Object.keys(e.options).forEach(function(t){p.options[t]=e.options[t]}),e.messages&&(this.create(e.messages),this.ptr=p),e.enums&&(this.create(e.enums),this.ptr=p),e.services&&(this.create(e.services),this.ptr=p),e["extends"]&&this.create(e["extends"]),this.reset(),this},s.isValidService=function(t){return!("string"!=typeof t.name||!e.NAME.test(t.name)||"object"!=typeof t.rpc)},s.isValidExtend=function(t){if("string"!=typeof t.ref||!e.TYPEREF.test(t.ref))return!1;var i;if("undefined"!=typeof t.fields){if(!Array.isArray(t.fields))return!1;var r,n=[];for(i=0;i<t.fields.length;i++){if(!s.isValidMessageField(t.fields[i]))return!1;if(r=parseInt(t.id,10),n.indexOf(r)>=0)return!1;n.push(r)}n=null}return!0},o.resolveAll=function(){var i;if(null!=this.ptr&&"object"!=typeof this.ptr.type){if(this.ptr instanceof r.Namespace)for(var n=this.ptr.children,s=0,o=n.length;o>s;++s)this.ptr=n[s],this.resolveAll();else if(this.ptr instanceof r.Message.Field){if(e.TYPE.test(this.ptr.type))this.ptr.type=t.TYPES[this.ptr.type];else{if(!e.TYPEREF.test(this.ptr.type))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(i=(this.ptr instanceof r.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0),!i)throw Error("Unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=i,i instanceof r.Enum){if(this.ptr.type=t.TYPES["enum"],"proto3"===this.ptr.syntax&&"proto3"!==i.syntax)throw Error("Proto3 message refers to proto2 enum; this is not allowed due to differing enum semantics in proto3")}else{if(!(i instanceof r.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=i.isGroup?t.TYPES.group:t.TYPES.message}}if(this.ptr.map){if(!e.TYPE.test(this.ptr.keyType))throw Error("Illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.keyType=t.TYPES[this.ptr.keyType]}}else if(this.ptr instanceof t.Reflect.Enum.Value);else if(this.ptr instanceof t.Reflect.Service.Method){if(!(this.ptr instanceof t.Reflect.Service.RPCMethod))throw Error("Illegal service type in "+this.ptr.toString(!0));if(i=this.ptr.parent.resolve(this.ptr.requestName,!0),!(i&&i instanceof t.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=i,i=this.ptr.parent.resolve(this.ptr.responseName,!0),!(i&&i instanceof t.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=i}else if(!(this.ptr instanceof t.Reflect.Message.OneOf||this.ptr instanceof t.Reflect.Extension))throw Error("Illegal object in namespace: "+typeof this.ptr+":"+this.ptr);this.reset()}},o.build=function(t){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),t){for(var e="string"==typeof t?t.split("."):t,i=this.result,r=0;r<e.length;r++){if(!i[e[r]]){i=null;break}i=i[e[r]]}return i}return this.result},o.lookup=function(t,e){return t?this.ns.resolve(t,e):this.ns},o.toString=function(){return"Builder"},s.Message=function(){},s.Service=function(){},s}(r,r.Lang,r.Reflect),r.Map=function(t,e){function i(t){var e=0;return{next:function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}}var r=function(t,i){if(!t.map)throw Error("field is not a map");if(this.field=t,this.keyElem=new e.Element(t.keyType,null,!0,t.syntax),this.valueElem=new e.Element(t.type,t.resolvedType,!1,t.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),i)for(var r=Object.keys(i),n=0;n<r.length;n++){var s=this.keyElem.valueFromString(r[n]),o=this.valueElem.verifyValue(i[r[n]]);this.map[this.keyElem.valueToString(s)]={key:s,value:o}}},n=r.prototype;return n.clear=function(){this.map={}},n["delete"]=function(t){var e=this.keyElem.valueToString(this.keyElem.verifyValue(t)),i=e in this.map;return delete this.map[e],i},n.entries=function(){for(var t,e=[],r=Object.keys(this.map),n=0;n<r.length;n++)e.push([(t=this.map[r[n]]).key,t.value]);return i(e)},n.keys=function(){for(var t=[],e=Object.keys(this.map),r=0;r<e.length;r++)t.push(this.map[e[r]].key);return i(t)},n.values=function(){for(var t=[],e=Object.keys(this.map),r=0;r<e.length;r++)t.push(this.map[e[r]].value);return i(t)},n.forEach=function(t,e){for(var i,r=Object.keys(this.map),n=0;n<r.length;n++)t.call(e,(i=this.map[r[n]]).value,i.key,this)},n.set=function(t,e){var i=this.keyElem.verifyValue(t),r=this.valueElem.verifyValue(e);return this.map[this.keyElem.valueToString(i)]={key:i,value:r},this},n.get=function(t){var e=this.keyElem.valueToString(this.keyElem.verifyValue(t));return e in this.map?this.map[e].value:void 0},n.has=function(t){var e=this.keyElem.valueToString(this.keyElem.verifyValue(t));return e in this.map},r}(r,r.Reflect),r.loadProto=function(t,e,i){return("string"==typeof e||e&&"string"==typeof e.file&&"string"==typeof e.root)&&(i=e,e=void 0),r.loadJson(new r.DotProto.Parser(t).parse(),e,i)},r.protoFromString=r.loadProto,r.loadProtoFile=function(t,e,i){if(e&&"object"==typeof e?(i=e,e=null):e&&"function"==typeof e||(e=null),e)return r.Util.fetch("string"==typeof t?t:t.root+"/"+t.file,function(n){if(null===n)return void e(Error("Failed to fetch file"));try{e(null,r.loadProto(n,i,t))}catch(s){e(s)}});var n=r.Util.fetch("object"==typeof t?t.root+"/"+t.file:t);return null===n?null:r.loadProto(n,i,t)},r.protoFromFile=r.loadProtoFile,r.newBuilder=function(t){return t=t||{},"undefined"==typeof t.convertFieldsToCamelCase&&(t.convertFieldsToCamelCase=r.convertFieldsToCamelCase),"undefined"==typeof t.populateAccessors&&(t.populateAccessors=r.populateAccessors),new r.Builder(t)},r.loadJson=function(t,e,i){return("string"==typeof e||e&&"string"==typeof e.file&&"string"==typeof e.root)&&(i=e,e=null),e&&"object"==typeof e||(e=r.newBuilder()),"string"==typeof t&&(t=JSON.parse(t)),e["import"](t,i),e.resolveAll(),e},r.loadJsonFile=function(t,e,i){if(e&&"object"==typeof e?(i=e,e=null):e&&"function"==typeof e||(e=null),e)return r.Util.fetch("string"==typeof t?t:t.root+"/"+t.file,function(n){if(null===n)return void e(Error("Failed to fetch file"));try{e(null,r.loadJson(JSON.parse(n),i,t))}catch(s){e(s)}});var n=r.Util.fetch("object"==typeof t?t.root+"/"+t.file:t);return null===n?null:r.loadJson(JSON.parse(n),i,t)},r})}).call(e,i(4),i(2)(t))},function(t,e,i){var r,n,s;(function(t){/**
	 * @license ByteBuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
	 * [BUILD] ByteBufferAB - Backing buffer: ArrayBuffer, Accessor: Uint8Array
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/ByteBuffer.js for details
	 */
!function(o,f){i(1).amd?(n=[i(7)],r=f,s="function"==typeof r?r.apply(e,n):r,!(void 0!==s&&(t.exports=s))):"object"==typeof t&&t&&t.exports?t.exports=function(){var t;try{t=i(8)}catch(e){}return f(t)}():(o.dcodeIO=o.dcodeIO||{}).ByteBuffer=f(o.dcodeIO.Long)}(this,function(t){"use strict";function e(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function i(){var t=[],e=[];return function(){return 0===arguments.length?e.join("")+a.apply(String,t):(t.length+arguments.length>1024&&(e.push(a.apply(String,t)),t.length=0),void Array.prototype.push.apply(t,arguments))}}function r(t,e,i,r,n){var s,o,f=8*n-r-1,a=(1<<f)-1,h=a>>1,l=-7,u=i?n-1:0,g=i?-1:1,p=t[e+u];for(u+=g,s=p&(1<<-l)-1,p>>=-l,l+=f;l>0;s=256*s+t[e+u],u+=g,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+t[e+u],u+=g,l-=8);if(0===s)s=1-h;else{if(s===a)return o?NaN:(p?-1:1)*(1/0);o+=Math.pow(2,r),s-=h}return(p?-1:1)*o*Math.pow(2,s-r)}function n(t,e,i,r,n,s){var o,f,a,h=8*s-n-1,l=(1<<h)-1,u=l>>1,g=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,d=r?1:-1,c=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),e+=o+u>=1?g/a:g*Math.pow(2,1-u),e*a>=2&&(o++,a/=2),o+u>=l?(f=0,o=l):o+u>=1?(f=(e*a-1)*Math.pow(2,n),o+=u):(f=e*Math.pow(2,u-1)*Math.pow(2,n),o=0));n>=8;t[i+p]=255&f,p+=d,f/=256,n-=8);for(o=o<<n|f,h+=n;h>0;t[i+p]=255&o,p+=d,o/=256,h-=8);t[i+p-d]|=128*c}var s=function(t,e,i){if("undefined"==typeof t&&(t=s.DEFAULT_CAPACITY),"undefined"==typeof e&&(e=s.DEFAULT_ENDIAN),"undefined"==typeof i&&(i=s.DEFAULT_NOASSERT),!i){if(t=0|t,0>t)throw RangeError("Illegal capacity");e=!!e,i=!!i}this.buffer=0===t?f:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian="undefined"!=typeof e?!!e:!1,this.noAssert=!!i};s.VERSION="4.0.0",s.LITTLE_ENDIAN=!0,s.BIG_ENDIAN=!1,s.DEFAULT_CAPACITY=16,s.DEFAULT_ENDIAN=s.BIG_ENDIAN,s.DEFAULT_NOASSERT=!1,s.Long=t||null;var o=s.prototype;o.__isByteBuffer__,Object.defineProperty(o,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var f=new ArrayBuffer(0),a=String.fromCharCode;s.accessor=function(){return Uint8Array},s.allocate=function(t,e,i){return new s(t,e,i)},s.concat=function(t,e,i,r){("boolean"==typeof e||"string"!=typeof e)&&(r=i,i=e,e=void 0);for(var n,o=0,f=0,a=t.length;a>f;++f)s.isByteBuffer(t[f])||(t[f]=s.wrap(t[f],e)),n=t[f].limit-t[f].offset,n>0&&(o+=n);if(0===o)return new s(0,i,r);var h,l=new s(o,i,r);for(f=0;a>f;)h=t[f++],n=h.limit-h.offset,0>=n||(l.view.set(h.view.subarray(h.offset,h.limit),l.offset),l.offset+=n);return l.limit=l.offset,l.offset=0,l},s.isByteBuffer=function(t){return(t&&t.__isByteBuffer__)===!0},s.type=function(){return ArrayBuffer},s.wrap=function(t,e,i,r){if("string"!=typeof e&&(r=i,i=e,e=void 0),"string"==typeof t)switch("undefined"==typeof e&&(e="utf8"),e){case"base64":return s.fromBase64(t,i);case"hex":return s.fromHex(t,i);case"binary":return s.fromBinary(t,i);case"utf8":return s.fromUTF8(t,i);case"debug":return s.fromDebug(t,i);default:throw Error("Unsupported encoding: "+e)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var n;if(s.isByteBuffer(t))return n=o.clone.call(t),n.markedOffset=-1,n;if(t instanceof Uint8Array)n=new s(0,i,r),t.length>0&&(n.buffer=t.buffer,n.offset=t.byteOffset,n.limit=t.byteOffset+t.byteLength,n.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)n=new s(0,i,r),t.byteLength>0&&(n.buffer=t,n.offset=0,n.limit=t.byteLength,n.view=t.byteLength>0?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");n=new s(t.length,i,r),n.limit=t.length;for(var f=0;f<t.length;++f)n.view[f]=t[f]}return n},o.readBytes=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var r=this.slice(e,e+t);return i&&(this.offset+=t),r},o.writeBytes=o.append,o.writeInt8=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=1,this.view[e]=t,i&&(this.offset+=1),this},o.writeByte=o.writeInt8,o.readInt8=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=this.view[t];return 128===(128&i)&&(i=-(255-i+1)),e&&(this.offset+=1),i},o.readByte=o.readInt8,o.writeUint8=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=1,this.view[e]=t,i&&(this.offset+=1),this},o.writeUInt8=o.writeUint8,o.readUint8=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=this.view[t];return e&&(this.offset+=1),i},o.readUInt8=o.readUint8,o.writeInt16=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),i&&(this.offset+=2),this},o.writeShort=o.writeInt16,o.readInt16=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t],i|=this.view[t+1]<<8):(i=this.view[t]<<8,i|=this.view[t+1]),32768===(32768&i)&&(i=-(65535-i+1)),e&&(this.offset+=2),i},o.readShort=o.readInt16,o.writeUint16=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),i&&(this.offset+=2),this},o.writeUInt16=o.writeUint16,o.readUint16=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t],i|=this.view[t+1]<<8):(i=this.view[t]<<8,i|=this.view[t+1]),e&&(this.offset+=2),i},o.readUInt16=o.readUint16,o.writeInt32=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),i&&(this.offset+=4),this},o.writeInt=o.writeInt32,o.readInt32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0),i|=0,e&&(this.offset+=4),i},o.readInt=o.readInt32,o.writeUint32=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),i&&(this.offset+=4),this},o.writeUInt32=o.writeUint32,o.readUint32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0),e&&(this.offset+=4),i},o.readUInt32=o.readUint32,t&&(o.writeInt64=function(e,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),i+=8;var n=this.buffer.byteLength;i>n&&this.resize((n*=2)>i?n:i),i-=8;var s=e.low,o=e.high;return this.littleEndian?(this.view[i+3]=s>>>24&255,this.view[i+2]=s>>>16&255,this.view[i+1]=s>>>8&255,this.view[i]=255&s,i+=4,this.view[i+3]=o>>>24&255,this.view[i+2]=o>>>16&255,this.view[i+1]=o>>>8&255,this.view[i]=255&o):(this.view[i]=o>>>24&255,this.view[i+1]=o>>>16&255,this.view[i+2]=o>>>8&255,this.view[i+3]=255&o,i+=4,this.view[i]=s>>>24&255,this.view[i+1]=s>>>16&255,this.view[i+2]=s>>>8&255,this.view[i+3]=255&s),r&&(this.offset+=8),this},o.writeLong=o.writeInt64,o.readInt64=function(e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var s=new t(r,n,!1);return i&&(this.offset+=8),s},o.readLong=o.readInt64,o.writeUint64=function(e,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),i+=8;var n=this.buffer.byteLength;i>n&&this.resize((n*=2)>i?n:i),i-=8;var s=e.low,o=e.high;return this.littleEndian?(this.view[i+3]=s>>>24&255,this.view[i+2]=s>>>16&255,this.view[i+1]=s>>>8&255,this.view[i]=255&s,i+=4,this.view[i+3]=o>>>24&255,this.view[i+2]=o>>>16&255,this.view[i+1]=o>>>8&255,this.view[i]=255&o):(this.view[i]=o>>>24&255,this.view[i+1]=o>>>16&255,this.view[i+2]=o>>>8&255,this.view[i+3]=255&o,i+=4,this.view[i]=s>>>24&255,this.view[i+1]=s>>>16&255,this.view[i+2]=s>>>8&255,this.view[i+3]=255&s),r&&(this.offset+=8),this},o.writeUInt64=o.writeUint64,o.readUint64=function(e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var s=new t(r,n,!0);return i&&(this.offset+=8),s},o.readUInt64=o.readUint64),o.writeFloat32=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,n(this.view,t,e,this.littleEndian,23,4),i&&(this.offset+=4),this},o.writeFloat=o.writeFloat32,o.readFloat32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=r(this.view,t,this.littleEndian,23,4);return e&&(this.offset+=4),i},o.readFloat=o.readFloat32,o.writeFloat64=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=8,n(this.view,t,e,this.littleEndian,52,8),i&&(this.offset+=8),this},o.writeDouble=o.writeFloat64,o.readFloat64=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=r(this.view,t,this.littleEndian,52,8);return e&&(this.offset+=8),i},o.readDouble=o.readFloat64,s.MAX_VARINT32_BYTES=5,s.calculateVarint32=function(t){return t>>>=0,128>t?1:16384>t?2:1<<21>t?3:1<<28>t?4:5},s.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},s.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},o.writeVarint32=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var r,n=s.calculateVarint32(t);e+=n;var o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=n,this.view[e]=r=128|t,t>>>=0,t>=128?(r=t>>7|128,this.view[e+1]=r,t>=16384?(r=t>>14|128,this.view[e+2]=r,t>=1<<21?(r=t>>21|128,this.view[e+3]=r,t>=1<<28?(this.view[e+4]=t>>28&15,n=5):(this.view[e+3]=127&r,n=4)):(this.view[e+2]=127&r,n=3)):(this.view[e+1]=127&r,n=2)):(this.view[e]=127&r,n=1),i?(this.offset+=n,this):n},o.writeVarint32ZigZag=function(t,e){return this.writeVarint32(s.zigZagEncode32(t),e)},o.readVarint32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i,r,n=0,s=0;do{if(r=t+n,!this.noAssert&&r>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}i=this.view[r],5>n&&(s|=(127&i)<<7*n>>>0),++n}while(128===(128&i));return s=0|s,e?(this.offset+=n,s):{value:s,length:n}},o.readVarint32ZigZag=function(t){var e=this.readVarint32(t);return"object"==typeof e?e.value=s.zigZagDecode32(e.value):e=s.zigZagDecode32(e),e},t&&(s.MAX_VARINT64_BYTES=10,s.calculateVarint64=function(e){"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e));var i=e.toInt()>>>0,r=e.shiftRightUnsigned(28).toInt()>>>0,n=e.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==r?16384>i?128>i?1:2:1<<21>i?3:4:16384>r?128>r?5:6:1<<21>r?7:8:128>n?9:10},s.zigZagEncode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):e.unsigned!==!1&&(e=e.toSigned()),e.shiftLeft(1).xor(e.shiftRight(63)).toUnsigned()},s.zigZagDecode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):e.unsigned!==!1&&(e=e.toSigned()),e.shiftRightUnsigned(1).xor(e.and(t.ONE).toSigned().negate()).toSigned()},o.writeVarint64=function(e,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):e.unsigned!==!1&&(e=e.toSigned());var n=s.calculateVarint64(e),o=e.toInt()>>>0,f=e.shiftRightUnsigned(28).toInt()>>>0,a=e.shiftRightUnsigned(56).toInt()>>>0;i+=n;var h=this.buffer.byteLength;switch(i>h&&this.resize((h*=2)>i?h:i),i-=n,n){case 10:this.view[i+9]=a>>>7&1;case 9:this.view[i+8]=9!==n?128|a:127&a;case 8:this.view[i+7]=8!==n?f>>>21|128:f>>>21&127;case 7:this.view[i+6]=7!==n?f>>>14|128:f>>>14&127;case 6:this.view[i+5]=6!==n?f>>>7|128:f>>>7&127;case 5:this.view[i+4]=5!==n?128|f:127&f;case 4:this.view[i+3]=4!==n?o>>>21|128:o>>>21&127;case 3:this.view[i+2]=3!==n?o>>>14|128:o>>>14&127;case 2:this.view[i+1]=2!==n?o>>>7|128:o>>>7&127;case 1:this.view[i]=1!==n?128|o:127&o}return r?(this.offset+=n,this):n},o.writeVarint64ZigZag=function(t,e){return this.writeVarint64(s.zigZagEncode64(t),e)},o.readVarint64=function(e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,n=0,s=0,o=0,f=0;if(f=this.view[e++],n=127&f,128&f&&(f=this.view[e++],n|=(127&f)<<7,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],n|=(127&f)<<14,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],n|=(127&f)<<21,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],s=127&f,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],s|=(127&f)<<7,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],s|=(127&f)<<14,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],s|=(127&f)<<21,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],o=127&f,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],o|=(127&f)<<7,128&f||this.noAssert&&"undefined"==typeof f))))))))))throw Error("Buffer overrun");var a=t.fromBits(n|s<<28,s>>>4|o<<24,!1);return i?(this.offset=e,a):{value:a,length:e-r}},o.readVarint64ZigZag=function(e){var i=this.readVarint64(e);return i&&i.value instanceof t?i.value=s.zigZagDecode64(i.value):i=s.zigZagDecode64(i),i}),o.writeCString=function(t,i){var r="undefined"==typeof i;r&&(i=this.offset);var n,s=t.length;if(!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(n=0;s>n;++n)if(0===t.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}s=l.calculateUTF16asUTF8(e(t))[1],i+=s+1;var o=this.buffer.byteLength;return i>o&&this.resize((o*=2)>i?o:i),i-=s+1,l.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),this.view[i++]=0,r?(this.offset=i,this):s},o.readCString=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=t,s=-1;return l.decodeUTF8toUTF16(function(){if(0===s)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return s=this.view[t++],0===s?null:s}.bind(this),r=i(),!0),e?(this.offset=t,r()):{string:r(),length:t-n}},o.writeIString=function(t,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,s=i;n=l.calculateUTF16asUTF8(e(t),this.noAssert)[1],i+=4+n;var o=this.buffer.byteLength;if(i>o&&this.resize((o*=2)>i?o:i),i-=4+n,this.littleEndian?(this.view[i+3]=n>>>24&255,this.view[i+2]=n>>>16&255,this.view[i+1]=n>>>8&255,this.view[i]=255&n):(this.view[i]=n>>>24&255,this.view[i+1]=n>>>16&255,this.view[i+2]=n>>>8&255,this.view[i+3]=255&n),i+=4,l.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),i!==s+4+n)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+4+n));return r?(this.offset=i,this):i-s},o.readIString=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r,n=0,s=t;this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0),t+=4;var o,f=t+n;return l.decodeUTF8toUTF16(function(){return f>t?this.view[t++]:null}.bind(this),o=i(),this.noAssert),r=o(),e?(this.offset=t,r):{string:r,length:t-s}},s.METRICS_CHARS="c",s.METRICS_BYTES="b",o.writeUTF8String=function(t,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,s=i;n=l.calculateUTF16asUTF8(e(t))[1],i+=n;var o=this.buffer.byteLength;return i>o&&this.resize((o*=2)>i?o:i),i-=n,l.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),r?(this.offset=i,this):i-s},o.writeString=o.writeUTF8String,s.calculateUTF8Chars=function(t){return l.calculateUTF16asUTF8(e(t))[0]},s.calculateUTF8Bytes=function(t){return l.calculateUTF16asUTF8(e(t))[1]},s.calculateString=s.calculateUTF8Bytes,o.readUTF8String=function(t,e,r){"number"==typeof e&&(r=e,e=void 0);var n="undefined"==typeof r;if(n&&(r=this.offset),"undefined"==typeof e&&(e=s.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,f=0,a=r;if(e===s.METRICS_CHARS){if(o=i(),l.decodeUTF8(function(){return t>f&&r<this.limit?this.view[r++]:null}.bind(this),function(t){++f,l.UTF8toUTF16(t,o)}),f!==t)throw RangeError("Illegal range: Truncated data, "+f+" == "+t);return n?(this.offset=r,o()):{string:o(),length:r-a}}if(e===s.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+t+") <= "+this.buffer.byteLength)}var h=r+t;if(l.decodeUTF8toUTF16(function(){return h>r?this.view[r++]:null}.bind(this),o=i(),this.noAssert),r!==h)throw RangeError("Illegal range: Truncated data, "+r+" == "+h);return n?(this.offset=r,o()):{string:o(),length:r-a}}throw TypeError("Unsupported metrics: "+e)},o.readString=o.readUTF8String,o.writeVString=function(t,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,o,f=i;n=l.calculateUTF16asUTF8(e(t),this.noAssert)[1],o=s.calculateVarint32(n),i+=o+n;var a=this.buffer.byteLength;if(i>a&&this.resize((a*=2)>i?a:i),i-=o+n,i+=this.writeVarint32(n,i),l.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),i!==f+n+o)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+n+o));return r?(this.offset=i,this):i-f},o.readVString=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=this.readVarint32(t),s=t;t+=n.length,n=n.value;var o=t+n,f=i();return l.decodeUTF8toUTF16(function(){return o>t?this.view[t++]:null}.bind(this),f,this.noAssert),r=f(),e?(this.offset=t,r):{string:r,length:t-s}},o.append=function(t,e,i){("number"==typeof e||"string"!=typeof e)&&(i=e,e=void 0);var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}t instanceof s||(t=s.wrap(t,e));var n=t.limit-t.offset;if(0>=n)return this;i+=n;var o=this.buffer.byteLength;return i>o&&this.resize((o*=2)>i?o:i),i-=n,this.view.set(t.view.subarray(t.offset,t.limit),i),t.offset+=n,r&&(this.offset+=n),this},o.appendTo=function(t,e){return t.append(this,e),this},o.assert=function(t){return this.noAssert=!t,this},o.capacity=function(){return this.buffer.byteLength},o.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},o.clone=function(t){var e=new s(0,this.littleEndian,this.noAssert);return t?(e.buffer=new ArrayBuffer(this.buffer.byteLength),e.view=new Uint8Array(e.buffer)):(e.buffer=this.buffer,e.view=this.view),e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e},o.compact=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var i=e-t;if(0===i)return this.buffer=f,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var r=new ArrayBuffer(i),n=new Uint8Array(r);return n.set(this.view.subarray(t,e)),this.buffer=r,this.view=n,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=i,this},o.copy=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return new s(0,this.littleEndian,this.noAssert);var i=e-t,r=new s(i,this.littleEndian,this.noAssert);return r.offset=0,r.limit=i,r.markedOffset>=0&&(r.markedOffset-=t),this.copyTo(r,0,t,e),r},o.copyTo=function(t,e,i,r){var n,o;if(!this.noAssert&&!s.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(e=(o="undefined"==typeof e)?t.offset:0|e,i=(n="undefined"==typeof i)?this.offset:0|i,r="undefined"==typeof r?this.limit:0|r,0>e||e>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+e+" <= "+t.buffer.byteLength);if(0>i||r>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+i+" <= "+this.buffer.byteLength);var f=r-i;return 0===f?t:(t.ensureCapacity(e+f),t.view.set(this.view.subarray(i,r),e),n&&(this.offset+=f),o&&(t.offset+=f),this)},o.ensureCapacity=function(t){var e=this.buffer.byteLength;return t>e?this.resize((e*=2)>t?e:t):this},o.fill=function(t,e,i){var r="undefined"==typeof e;if(r&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),"undefined"==typeof e&&(e=this.offset),"undefined"==typeof i&&(i=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof i||i%1!==0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,0>e||e>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+i+" <= "+this.buffer.byteLength)}if(e>=i)return this;for(;i>e;)this.view[e++]=t;return r&&(this.offset=e),this},o.flip=function(){return this.limit=this.offset,this.offset=0,this},o.mark=function(t){
if(t="undefined"==typeof t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},o.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},o.LE=function(t){return this.littleEndian="undefined"!=typeof t?!!t:!0,this},o.BE=function(t){return this.littleEndian="undefined"!=typeof t?!t:!1,this},o.prepend=function(t,e,i){("number"==typeof e||"string"!=typeof e)&&(i=e,e=void 0);var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}t instanceof s||(t=s.wrap(t,e));var n=t.limit-t.offset;if(0>=n)return this;var o=n-i;if(o>0){var f=new ArrayBuffer(this.buffer.byteLength+o),a=new Uint8Array(f);a.set(this.view.subarray(i,this.buffer.byteLength),n),this.buffer=f,this.view=a,this.offset+=o,this.markedOffset>=0&&(this.markedOffset+=o),this.limit+=o,i+=o}else{new Uint8Array(this.buffer)}return this.view.set(t.view.subarray(t.offset,t.limit),i-n),t.offset=t.limit,r&&(this.offset-=n),this},o.prependTo=function(t,e){return t.prepend(this,e),this},o.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},o.remaining=function(){return this.limit-this.offset},o.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},o.resize=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if(t|=0,0>t)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),i=new Uint8Array(e);i.set(this.view),this.buffer=e,this.view=i}return this},o.reverse=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e?this:(Array.prototype.reverse.call(this.view.subarray(t,e)),this)},o.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(0>e||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},o.slice=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var i=this.clone();return i.offset=t,i.limit=e,i},o.toBuffer=function(t){var e=this.offset,i=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof i||i%1!==0)throw TypeError("Illegal limit: Not an integer");if(i>>>=0,0>e||e>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+i+" <= "+this.buffer.byteLength)}if(!t&&0===e&&i===this.buffer.byteLength)return this.buffer;if(e===i)return f;var r=new ArrayBuffer(i-e);return new Uint8Array(r).set(new Uint8Array(this.buffer).subarray(e,i),0),r},o.toArrayBuffer=o.toBuffer,o.toString=function(t,e,i){if("undefined"==typeof t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof t&&(t="utf8",e=t,i=e),t){case"utf8":return this.toUTF8(e,i);case"base64":return this.toBase64(e,i);case"hex":return this.toHex(e,i);case"binary":return this.toBinary(e,i);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var h=function(){for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],i=[],r=0,n=e.length;n>r;++r)i[e[r]]=r;return t.encode=function(t,i){for(var r,n;null!==(r=t());)i(e[r>>2&63]),n=(3&r)<<4,null!==(r=t())?(n|=r>>4&15,i(e[63&(n|r>>4&15)]),n=(15&r)<<2,null!==(r=t())?(i(e[63&(n|r>>6&3)]),i(e[63&r])):(i(e[63&n]),i(61))):(i(e[63&n]),i(61),i(61))},t.decode=function(t,e){function r(t){throw Error("Illegal character code: "+t)}for(var n,s,o;null!==(n=t());)if(s=i[n],"undefined"==typeof s&&r(n),null!==(n=t())&&(o=i[n],"undefined"==typeof o&&r(n),e(s<<2>>>0|(48&o)>>4),null!==(n=t()))){if(s=i[n],"undefined"==typeof s){if(61===n)break;r(n)}if(e((15&o)<<4>>>0|(60&s)>>2),null!==(n=t())){if(o=i[n],"undefined"==typeof o){if(61===n)break;r(n)}e((3&s)<<6>>>0|o)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();o.toBase64=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r;return h.encode(function(){return e>t?this.view[t++]:null}.bind(this),r=i()),r()},s.fromBase64=function(t,i,r){if(!r){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%4!==0)throw TypeError("Illegal str: Length not a multiple of 4")}var n=new s(t.length/4*3,i,r),o=0;return h.decode(e(t),function(t){n.view[o++]=t}),n.limit=o,n},s.btoa=function(t){return s.fromBinary(t).toBase64()},s.atob=function(t){return s.fromBase64(t).toBinary()},o.toBinary=function(t,e){if(t="undefined"==typeof t?this.offset:t,e="undefined"==typeof e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return"";for(var i=[],r=[];e>t;)i.push(this.view[t++]),i.length>=1024&&(r.push(String.fromCharCode.apply(String,i)),i=[]);return r.join("")+String.fromCharCode.apply(String,i)},s.fromBinary=function(t,e,i){if(!i&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");for(var r,n=0,o=t.length,f=new s(o,e,i);o>n;){if(r=t.charCodeAt(n),!i&&r>255)throw RangeError("Illegal charCode at "+n+": 0 <= "+r+" <= 255");f.view[n++]=r}return f.limit=o,f},o.toDebug=function(t){for(var e,i=-1,r=this.buffer.byteLength,n="",s="",o="";r>i;){if(-1!==i&&(e=this.view[i],n+=16>e?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(s+=e>32&&127>e?String.fromCharCode(e):".")),++i,t&&i>0&&i%16===0&&i!==r){for(;n.length<51;)n+=" ";o+=n+s+"\n",n=s=""}n+=i===this.offset&&i===this.limit?i===this.markedOffset?"!":"|":i===this.offset?i===this.markedOffset?"[":"<":i===this.limit?i===this.markedOffset?"]":">":i===this.markedOffset?"'":t||0!==i&&i!==r?" ":""}if(t&&" "!==n){for(;n.length<51;)n+=" ";o+=n+s+"\n"}return t?o:n},s.fromDebug=function(t,e,i){for(var r,n,o=t.length,f=new s((o+1)/3|0,e,i),a=0,h=0,l=!1,u=!1,g=!1,p=!1,d=!1;o>a;){switch(r=t.charAt(a++)){case"!":if(!i){if(u||g||p){d=!0;break}u=g=p=!0}f.offset=f.markedOffset=f.limit=h,l=!1;break;case"|":if(!i){if(u||p){d=!0;break}u=p=!0}f.offset=f.limit=h,l=!1;break;case"[":if(!i){if(u||g){d=!0;break}u=g=!0}f.offset=f.markedOffset=h,l=!1;break;case"<":if(!i){if(u){d=!0;break}u=!0}f.offset=h,l=!1;break;case"]":if(!i){if(p||g){d=!0;break}p=g=!0}f.limit=f.markedOffset=h,l=!1;break;case">":if(!i){if(p){d=!0;break}p=!0}f.limit=h,l=!1;break;case"'":if(!i){if(g){d=!0;break}g=!0}f.markedOffset=h,l=!1;break;case" ":l=!1;break;default:if(!i&&l){d=!0;break}if(n=parseInt(r+t.charAt(a++),16),!i&&(isNaN(n)||0>n||n>255))throw TypeError("Illegal str: Not a debug encoded string");f.view[h++]=n,l=!0}if(d)throw TypeError("Illegal str: Invalid symbol at "+a)}if(!i){if(!u||!p)throw TypeError("Illegal str: Missing offset or limit");if(h<f.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+h+" < "+o)}return f},o.toHex=function(t,e){if(t="undefined"==typeof t?this.offset:t,e="undefined"==typeof e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var i,r=new Array(e-t);e>t;)i=this.view[t++],16>i?r.push("0",i.toString(16)):r.push(i.toString(16));return r.join("")},s.fromHex=function(t,e,i){if(!i){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var r,n=t.length,o=new s(n/2|0,e),f=0,a=0;n>f;f+=2){if(r=parseInt(t.substring(f,f+2),16),!i&&(!isFinite(r)||0>r||r>255))throw TypeError("Illegal str: Contains non-hex characters");o.view[a++]=r}return o.limit=a,o};var l=function(){var t={};return t.MAX_CODEPOINT=1114111,t.encodeUTF8=function(t,e){var i=null;for("number"==typeof t&&(i=t,t=function(){return null});null!==i||null!==(i=t());)128>i?e(127&i):2048>i?(e(i>>6&31|192),e(63&i|128)):65536>i?(e(i>>12&15|224),e(i>>6&63|128),e(63&i|128)):(e(i>>18&7|240),e(i>>12&63|128),e(i>>6&63|128),e(63&i|128)),i=null},t.decodeUTF8=function(t,e){for(var i,r,n,s,o=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(i=t());)if(0===(128&i))e(i);else if(192===(224&i))null===(r=t())&&o([i,r]),e((31&i)<<6|63&r);else if(224===(240&i))(null===(r=t())||null===(n=t()))&&o([i,r,n]),e((15&i)<<12|(63&r)<<6|63&n);else{if(240!==(248&i))throw RangeError("Illegal starting byte: "+i);(null===(r=t())||null===(n=t())||null===(s=t()))&&o([i,r,n,s]),e((7&i)<<18|(63&r)<<12|(63&n)<<6|63&s)}},t.UTF16toUTF8=function(t,e){for(var i,r=null;;){if(null===(i=null!==r?r:t()))break;i>=55296&&57343>=i&&null!==(r=t())&&r>=56320&&57343>=r?(e(1024*(i-55296)+r-56320+65536),r=null):e(i)}null!==r&&e(r)},t.UTF8toUTF16=function(t,e){var i=null;for("number"==typeof t&&(i=t,t=function(){return null});null!==i||null!==(i=t());)65535>=i?e(i):(i-=65536,e((i>>10)+55296),e(i%1024+56320)),i=null},t.encodeUTF16toUTF8=function(e,i){t.UTF16toUTF8(e,function(e){t.encodeUTF8(e,i)})},t.decodeUTF8toUTF16=function(e,i){t.decodeUTF8(e,function(e){t.UTF8toUTF16(e,i)})},t.calculateCodePoint=function(t){return 128>t?1:2048>t?2:65536>t?3:4},t.calculateUTF8=function(t){for(var e,i=0;null!==(e=t());)i+=128>e?1:2048>e?2:65536>e?3:4;return i},t.calculateUTF16asUTF8=function(e){var i=0,r=0;return t.UTF16toUTF8(e,function(t){++i,r+=128>t?1:2048>t?2:65536>t?3:4}),[i,r]},t}();return o.toUTF8=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r;try{l.decodeUTF8toUTF16(function(){return e>t?this.view[t++]:null}.bind(this),r=i())}catch(n){if(t!==e)throw RangeError("Illegal range: Truncated data, "+t+" != "+e)}return r()},s.fromUTF8=function(t,i,r){if(!r&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var n=new s(l.calculateUTF16asUTF8(e(t),!0)[1],i,r),o=0;return l.encodeUTF16toUTF8(e(t),function(t){n.view[o++]=t}),n.limit=o,n},s})}).call(e,i(2)(t))},function(t,e,i){var r;(function(t){/**
	 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/Long.js for details
	 */
!function(n){"use strict";var s=function(t,e,i){this.low=0|t,this.high=0|e,this.unsigned=!!i};s.isLong=function(t){return(t&&t instanceof s)===!0};var o={},f={};s.fromInt=function(t,e){var i,r;return e?(t>>>=0,t>=0&&256>t&&(r=f[t])?r:(i=new s(t,0>(0|t)?-1:0,!0),t>=0&&256>t&&(f[t]=i),i)):(t=0|t,t>=-128&&128>t&&(r=o[t])?r:(i=new s(t,0>t?-1:0,!1),t>=-128&&128>t&&(o[t]=i),i))},s.fromNumber=function(t,e){return e=!!e,isNaN(t)||!isFinite(t)?s.ZERO:!e&&-g>=t?s.MIN_VALUE:!e&&t+1>=g?s.MAX_VALUE:e&&t>=u?s.MAX_UNSIGNED_VALUE:0>t?s.fromNumber(-t,e).negate():new s(t%l|0,t/l|0,e)},s.fromBits=function(t,e,i){return new s(t,e,i)},s.fromString=function(t,e,i){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return s.ZERO;if("number"==typeof e&&(i=e,e=!1),i=i||10,2>i||i>36)throw Error("radix out of range: "+i);var r;if((r=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===r)return s.fromString(t.substring(1),e,i).negate();for(var n=s.fromNumber(Math.pow(i,8)),o=s.ZERO,f=0;f<t.length;f+=8){var a=Math.min(8,t.length-f),h=parseInt(t.substring(f,f+a),i);if(8>a){var l=s.fromNumber(Math.pow(i,a));o=o.multiply(l).add(s.fromNumber(h))}else o=o.multiply(n),o=o.add(s.fromNumber(h))}return o.unsigned=e,o},s.fromValue=function(t){return"number"==typeof t?s.fromNumber(t):"string"==typeof t?s.fromString(t):s.isLong(t)?t:new s(t.low,t.high,t.unsigned)};var a=65536,h=1<<24,l=a*a,u=l*l,g=u/2,p=s.fromInt(h);s.ZERO=s.fromInt(0),s.UZERO=s.fromInt(0,!0),s.ONE=s.fromInt(1),s.UONE=s.fromInt(1,!0),s.NEG_ONE=s.fromInt(-1),s.MAX_VALUE=s.fromBits(-1,2147483647,!1),s.MAX_UNSIGNED_VALUE=s.fromBits(-1,-1,!0),s.MIN_VALUE=s.fromBits(0,-2147483648,!1),s.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},s.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},s.prototype.toString=function(t){if(t=t||10,2>t||t>36)throw RangeError("radix out of range: "+t);if(this.isZero())return"0";var e;if(this.isNegative()){if(this.equals(s.MIN_VALUE)){var i=s.fromNumber(t),r=this.div(i);return e=r.multiply(i).subtract(this),r.toString(t)+e.toInt().toString(t)}return"-"+this.negate().toString(t)}var n=s.fromNumber(Math.pow(t,6),this.unsigned);e=this;for(var o="";;){var f=e.div(n),a=e.subtract(f.multiply(n)).toInt()>>>0,h=a.toString(t);if(e=f,e.isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}},s.prototype.getHighBits=function(){return this.high},s.prototype.getHighBitsUnsigned=function(){return this.high>>>0},s.prototype.getLowBits=function(){return this.low},s.prototype.getLowBitsUnsigned=function(){return this.low>>>0},s.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(s.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},s.prototype.isZero=function(){return 0===this.high&&0===this.low},s.prototype.isNegative=function(){return!this.unsigned&&this.high<0},s.prototype.isPositive=function(){return this.unsigned||this.high>=0},s.prototype.isOdd=function(){return 1===(1&this.low)},s.prototype.isEven=function(){return 0===(1&this.low)},s.prototype.equals=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},s.prototype.notEquals=function(t){return s.isLong(t)||(t=s.fromValue(t)),!this.equals(t)},s.prototype.lessThan=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)<0},s.prototype.lessThanOrEqual=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)<=0},s.prototype.greaterThan=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)>0},s.prototype.greaterThanOrEqual=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)>=0},s.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),i=t.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.subtract(t).isNegative()?-1:1},s.prototype.negate=function(){return!this.unsigned&&this.equals(s.MIN_VALUE)?s.MIN_VALUE:this.not().add(s.ONE)},s.prototype.add=function(t){s.isLong(t)||(t=s.fromValue(t));var e=this.high>>>16,i=65535&this.high,r=this.low>>>16,n=65535&this.low,o=t.high>>>16,f=65535&t.high,a=t.low>>>16,h=65535&t.low,l=0,u=0,g=0,p=0;return p+=n+h,g+=p>>>16,p&=65535,g+=r+a,u+=g>>>16,g&=65535,u+=i+f,l+=u>>>16,u&=65535,l+=e+o,l&=65535,s.fromBits(g<<16|p,l<<16|u,this.unsigned)},s.prototype.subtract=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.add(t.negate())},s.prototype.multiply=function(t){if(this.isZero())return s.ZERO;if(s.isLong(t)||(t=s.fromValue(t)),t.isZero())return s.ZERO;if(this.equals(s.MIN_VALUE))return t.isOdd()?s.MIN_VALUE:s.ZERO;if(t.equals(s.MIN_VALUE))return this.isOdd()?s.MIN_VALUE:s.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(p)&&t.lessThan(p))return s.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,i=65535&this.high,r=this.low>>>16,n=65535&this.low,o=t.high>>>16,f=65535&t.high,a=t.low>>>16,h=65535&t.low,l=0,u=0,g=0,d=0;return d+=n*h,g+=d>>>16,d&=65535,g+=r*h,u+=g>>>16,g&=65535,g+=n*a,u+=g>>>16,g&=65535,u+=i*h,l+=u>>>16,u&=65535,u+=r*a,l+=u>>>16,u&=65535,u+=n*f,l+=u>>>16,u&=65535,l+=e*h+i*a+r*f+n*o,l&=65535,s.fromBits(g<<16|d,l<<16|u,this.unsigned)},s.prototype.div=function(t){if(s.isLong(t)||(t=s.fromValue(t)),t.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?s.UZERO:s.ZERO;var e,i,r;if(this.equals(s.MIN_VALUE)){if(t.equals(s.ONE)||t.equals(s.NEG_ONE))return s.MIN_VALUE;if(t.equals(s.MIN_VALUE))return s.ONE;var n=this.shiftRight(1);return e=n.div(t).shiftLeft(1),e.equals(s.ZERO)?t.isNegative()?s.ONE:s.NEG_ONE:(i=this.subtract(t.multiply(e)),r=e.add(i.div(t)))}if(t.equals(s.MIN_VALUE))return this.unsigned?s.UZERO:s.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();for(r=s.ZERO,i=this;i.greaterThanOrEqual(t);){e=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(e)/Math.LN2),f=48>=o?1:Math.pow(2,o-48),a=s.fromNumber(e),h=a.multiply(t);h.isNegative()||h.greaterThan(i);)e-=f,a=s.fromNumber(e,this.unsigned),h=a.multiply(t);a.isZero()&&(a=s.ONE),r=r.add(a),i=i.subtract(h)}return r},s.prototype.modulo=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.subtract(this.div(t).multiply(t))},s.prototype.not=function(){return s.fromBits(~this.low,~this.high,this.unsigned)},s.prototype.and=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},s.prototype.or=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},s.prototype.xor=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},s.prototype.shiftLeft=function(t){return s.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:32>t?s.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):s.fromBits(0,this.low<<t-32,this.unsigned)},s.prototype.shiftRight=function(t){return s.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:32>t?s.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):s.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},s.prototype.shiftRightUnsigned=function(t){if(s.isLong(t)&&(t=t.toInt()),t&=63,0===t)return this;var e=this.high;if(32>t){var i=this.low;return s.fromBits(i>>>t|e<<32-t,e>>>t,this.unsigned)}return 32===t?s.fromBits(e,0,this.unsigned):s.fromBits(e>>>t-32,0,this.unsigned)},s.prototype.toSigned=function(){return this.unsigned?new s(this.low,this.high,!1):this},s.prototype.toUnsigned=function(){return this.unsigned?this:new s(this.low,this.high,!0)},"object"==typeof t&&t&&"object"==typeof e&&e?t.exports=s:i(1).amd?(r=function(){return s}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))):(n.dcodeIO=n.dcodeIO||{}).Long=s}(this)}).call(e,i(2)(t))},function(t,e,i){var r;(function(t){/**
	 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/Long.js for details
	 */
!function(n){"use strict";var s=function(t,e,i){this.low=0|t,this.high=0|e,this.unsigned=!!i};s.isLong=function(t){return(t&&t instanceof s)===!0};var o={},f={};s.fromInt=function(t,e){var i,r;return e?(t>>>=0,t>=0&&256>t&&(r=f[t])?r:(i=new s(t,0>(0|t)?-1:0,!0),t>=0&&256>t&&(f[t]=i),i)):(t=0|t,t>=-128&&128>t&&(r=o[t])?r:(i=new s(t,0>t?-1:0,!1),t>=-128&&128>t&&(o[t]=i),i))},s.fromNumber=function(t,e){return e=!!e,isNaN(t)||!isFinite(t)?s.ZERO:!e&&-g>=t?s.MIN_VALUE:!e&&t+1>=g?s.MAX_VALUE:e&&t>=u?s.MAX_UNSIGNED_VALUE:0>t?s.fromNumber(-t,e).negate():new s(t%l|0,t/l|0,e)},s.fromBits=function(t,e,i){return new s(t,e,i)},s.fromString=function(t,e,i){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return s.ZERO;if("number"==typeof e&&(i=e,e=!1),i=i||10,2>i||i>36)throw Error("radix out of range: "+i);var r;if((r=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===r)return s.fromString(t.substring(1),e,i).negate();for(var n=s.fromNumber(Math.pow(i,8)),o=s.ZERO,f=0;f<t.length;f+=8){var a=Math.min(8,t.length-f),h=parseInt(t.substring(f,f+a),i);if(8>a){var l=s.fromNumber(Math.pow(i,a));o=o.multiply(l).add(s.fromNumber(h))}else o=o.multiply(n),o=o.add(s.fromNumber(h))}return o.unsigned=e,o},s.fromValue=function(t){return"number"==typeof t?s.fromNumber(t):"string"==typeof t?s.fromString(t):s.isLong(t)?t:new s(t.low,t.high,t.unsigned)};var a=65536,h=1<<24,l=a*a,u=l*l,g=u/2,p=s.fromInt(h);s.ZERO=s.fromInt(0),s.UZERO=s.fromInt(0,!0),s.ONE=s.fromInt(1),s.UONE=s.fromInt(1,!0),s.NEG_ONE=s.fromInt(-1),s.MAX_VALUE=s.fromBits(-1,2147483647,!1),s.MAX_UNSIGNED_VALUE=s.fromBits(-1,-1,!0),s.MIN_VALUE=s.fromBits(0,-2147483648,!1),s.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},s.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},s.prototype.toString=function(t){if(t=t||10,2>t||t>36)throw RangeError("radix out of range: "+t);if(this.isZero())return"0";var e;if(this.isNegative()){if(this.equals(s.MIN_VALUE)){var i=s.fromNumber(t),r=this.div(i);return e=r.multiply(i).subtract(this),r.toString(t)+e.toInt().toString(t)}return"-"+this.negate().toString(t)}var n=s.fromNumber(Math.pow(t,6),this.unsigned);e=this;for(var o="";;){var f=e.div(n),a=e.subtract(f.multiply(n)).toInt()>>>0,h=a.toString(t);if(e=f,e.isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}},s.prototype.getHighBits=function(){return this.high},s.prototype.getHighBitsUnsigned=function(){return this.high>>>0},s.prototype.getLowBits=function(){return this.low},s.prototype.getLowBitsUnsigned=function(){return this.low>>>0},s.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(s.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},s.prototype.isZero=function(){return 0===this.high&&0===this.low},s.prototype.isNegative=function(){return!this.unsigned&&this.high<0},s.prototype.isPositive=function(){return this.unsigned||this.high>=0},s.prototype.isOdd=function(){return 1===(1&this.low)},s.prototype.isEven=function(){return 0===(1&this.low)},s.prototype.equals=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},s.prototype.notEquals=function(t){return s.isLong(t)||(t=s.fromValue(t)),!this.equals(t)},s.prototype.lessThan=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)<0},s.prototype.lessThanOrEqual=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)<=0},s.prototype.greaterThan=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)>0},s.prototype.greaterThanOrEqual=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)>=0},s.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),i=t.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.subtract(t).isNegative()?-1:1},s.prototype.negate=function(){return!this.unsigned&&this.equals(s.MIN_VALUE)?s.MIN_VALUE:this.not().add(s.ONE)},s.prototype.add=function(t){s.isLong(t)||(t=s.fromValue(t));var e=this.high>>>16,i=65535&this.high,r=this.low>>>16,n=65535&this.low,o=t.high>>>16,f=65535&t.high,a=t.low>>>16,h=65535&t.low,l=0,u=0,g=0,p=0;return p+=n+h,g+=p>>>16,p&=65535,g+=r+a,u+=g>>>16,g&=65535,u+=i+f,l+=u>>>16,u&=65535,l+=e+o,l&=65535,s.fromBits(g<<16|p,l<<16|u,this.unsigned)},s.prototype.subtract=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.add(t.negate())},s.prototype.multiply=function(t){if(this.isZero())return s.ZERO;if(s.isLong(t)||(t=s.fromValue(t)),t.isZero())return s.ZERO;if(this.equals(s.MIN_VALUE))return t.isOdd()?s.MIN_VALUE:s.ZERO;if(t.equals(s.MIN_VALUE))return this.isOdd()?s.MIN_VALUE:s.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(p)&&t.lessThan(p))return s.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,i=65535&this.high,r=this.low>>>16,n=65535&this.low,o=t.high>>>16,f=65535&t.high,a=t.low>>>16,h=65535&t.low,l=0,u=0,g=0,d=0;return d+=n*h,g+=d>>>16,d&=65535,g+=r*h,u+=g>>>16,g&=65535,g+=n*a,u+=g>>>16,g&=65535,u+=i*h,l+=u>>>16,u&=65535,u+=r*a,l+=u>>>16,u&=65535,u+=n*f,l+=u>>>16,u&=65535,l+=e*h+i*a+r*f+n*o,l&=65535,s.fromBits(g<<16|d,l<<16|u,this.unsigned)},s.prototype.div=function(t){if(s.isLong(t)||(t=s.fromValue(t)),t.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?s.UZERO:s.ZERO;var e,i,r;if(this.equals(s.MIN_VALUE)){if(t.equals(s.ONE)||t.equals(s.NEG_ONE))return s.MIN_VALUE;if(t.equals(s.MIN_VALUE))return s.ONE;var n=this.shiftRight(1);return e=n.div(t).shiftLeft(1),e.equals(s.ZERO)?t.isNegative()?s.ONE:s.NEG_ONE:(i=this.subtract(t.multiply(e)),r=e.add(i.div(t)))}if(t.equals(s.MIN_VALUE))return this.unsigned?s.UZERO:s.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();for(r=s.ZERO,i=this;i.greaterThanOrEqual(t);){e=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(e)/Math.LN2),f=48>=o?1:Math.pow(2,o-48),a=s.fromNumber(e),h=a.multiply(t);h.isNegative()||h.greaterThan(i);)e-=f,a=s.fromNumber(e,this.unsigned),h=a.multiply(t);a.isZero()&&(a=s.ONE),r=r.add(a),i=i.subtract(h)}return r},s.prototype.modulo=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.subtract(this.div(t).multiply(t))},s.prototype.not=function(){return s.fromBits(~this.low,~this.high,this.unsigned)},s.prototype.and=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},s.prototype.or=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},s.prototype.xor=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},s.prototype.shiftLeft=function(t){return s.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:32>t?s.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):s.fromBits(0,this.low<<t-32,this.unsigned)},s.prototype.shiftRight=function(t){return s.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:32>t?s.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):s.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},s.prototype.shiftRightUnsigned=function(t){if(s.isLong(t)&&(t=t.toInt()),t&=63,0===t)return this;var e=this.high;if(32>t){var i=this.low;return s.fromBits(i>>>t|e<<32-t,e>>>t,this.unsigned)}return 32===t?s.fromBits(e,0,this.unsigned):s.fromBits(e>>>t-32,0,this.unsigned)},s.prototype.toSigned=function(){return this.unsigned?new s(this.low,this.high,!1):this},s.prototype.toUnsigned=function(){return this.unsigned?this:new s(this.low,this.high,!0)},"object"==typeof t&&t&&"object"==typeof e&&e?t.exports=s:i(1).amd?(r=function(){return s}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))):(n.dcodeIO=n.dcodeIO||{}).Long=s}(this)}).call(e,i(2)(t))},function(t,e,i){var r,n,s;(function(t){/**
	 * @license ByteBuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
	 * [BUILD] ByteBufferAB - Backing buffer: ArrayBuffer, Accessor: Uint8Array
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/ByteBuffer.js for details
	 */
!function(o,f){i(1).amd?(n=[i(10)],r=f,s="function"==typeof r?r.apply(e,n):r,!(void 0!==s&&(t.exports=s))):"object"==typeof t&&t&&t.exports?t.exports=function(){var t;try{t=i(11)}catch(e){}return f(t)}():(o.dcodeIO=o.dcodeIO||{}).ByteBuffer=f(o.dcodeIO.Long)}(this,function(t){"use strict";function e(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function i(){var t=[],e=[];return function(){return 0===arguments.length?e.join("")+a.apply(String,t):(t.length+arguments.length>1024&&(e.push(a.apply(String,t)),t.length=0),void Array.prototype.push.apply(t,arguments))}}function r(t,e,i,r,n){var s,o,f=8*n-r-1,a=(1<<f)-1,h=a>>1,l=-7,u=i?n-1:0,g=i?-1:1,p=t[e+u];for(u+=g,s=p&(1<<-l)-1,p>>=-l,l+=f;l>0;s=256*s+t[e+u],u+=g,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+t[e+u],u+=g,l-=8);if(0===s)s=1-h;else{if(s===a)return o?NaN:(p?-1:1)*(1/0);o+=Math.pow(2,r),s-=h}return(p?-1:1)*o*Math.pow(2,s-r)}function n(t,e,i,r,n,s){var o,f,a,h=8*s-n-1,l=(1<<h)-1,u=l>>1,g=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,d=r?1:-1,c=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),e+=o+u>=1?g/a:g*Math.pow(2,1-u),e*a>=2&&(o++,a/=2),o+u>=l?(f=0,o=l):o+u>=1?(f=(e*a-1)*Math.pow(2,n),o+=u):(f=e*Math.pow(2,u-1)*Math.pow(2,n),o=0));n>=8;t[i+p]=255&f,p+=d,f/=256,n-=8);for(o=o<<n|f,h+=n;h>0;t[i+p]=255&o,p+=d,o/=256,h-=8);t[i+p-d]|=128*c}var s=function(t,e,i){if("undefined"==typeof t&&(t=s.DEFAULT_CAPACITY),"undefined"==typeof e&&(e=s.DEFAULT_ENDIAN),"undefined"==typeof i&&(i=s.DEFAULT_NOASSERT),!i){if(t=0|t,0>t)throw RangeError("Illegal capacity");e=!!e,i=!!i}this.buffer=0===t?f:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian="undefined"!=typeof e?!!e:!1,this.noAssert=!!i};s.VERSION="4.0.0",s.LITTLE_ENDIAN=!0,s.BIG_ENDIAN=!1,s.DEFAULT_CAPACITY=16,s.DEFAULT_ENDIAN=s.BIG_ENDIAN,s.DEFAULT_NOASSERT=!1,s.Long=t||null;var o=s.prototype;o.__isByteBuffer__,Object.defineProperty(o,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var f=new ArrayBuffer(0),a=String.fromCharCode;s.accessor=function(){return Uint8Array},s.allocate=function(t,e,i){return new s(t,e,i)},s.concat=function(t,e,i,r){("boolean"==typeof e||"string"!=typeof e)&&(r=i,i=e,e=void 0);for(var n,o=0,f=0,a=t.length;a>f;++f)s.isByteBuffer(t[f])||(t[f]=s.wrap(t[f],e)),n=t[f].limit-t[f].offset,n>0&&(o+=n);if(0===o)return new s(0,i,r);var h,l=new s(o,i,r);for(f=0;a>f;)h=t[f++],n=h.limit-h.offset,0>=n||(l.view.set(h.view.subarray(h.offset,h.limit),l.offset),l.offset+=n);return l.limit=l.offset,l.offset=0,l},s.isByteBuffer=function(t){return(t&&t.__isByteBuffer__)===!0},s.type=function(){return ArrayBuffer},s.wrap=function(t,e,i,r){if("string"!=typeof e&&(r=i,i=e,e=void 0),"string"==typeof t)switch("undefined"==typeof e&&(e="utf8"),e){case"base64":return s.fromBase64(t,i);case"hex":return s.fromHex(t,i);case"binary":return s.fromBinary(t,i);case"utf8":return s.fromUTF8(t,i);case"debug":return s.fromDebug(t,i);default:throw Error("Unsupported encoding: "+e)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var n;if(s.isByteBuffer(t))return n=o.clone.call(t),n.markedOffset=-1,n;if(t instanceof Uint8Array)n=new s(0,i,r),t.length>0&&(n.buffer=t.buffer,n.offset=t.byteOffset,n.limit=t.byteOffset+t.byteLength,n.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)n=new s(0,i,r),t.byteLength>0&&(n.buffer=t,n.offset=0,n.limit=t.byteLength,n.view=t.byteLength>0?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");n=new s(t.length,i,r),n.limit=t.length;for(var f=0;f<t.length;++f)n.view[f]=t[f]}return n},o.readBytes=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var r=this.slice(e,e+t);return i&&(this.offset+=t),r},o.writeBytes=o.append,o.writeInt8=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=1,this.view[e]=t,i&&(this.offset+=1),this},o.writeByte=o.writeInt8,o.readInt8=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=this.view[t];return 128===(128&i)&&(i=-(255-i+1)),e&&(this.offset+=1),i},o.readByte=o.readInt8,o.writeUint8=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=1,this.view[e]=t,i&&(this.offset+=1),this},o.writeUInt8=o.writeUint8,o.readUint8=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=this.view[t];return e&&(this.offset+=1),i},o.readUInt8=o.readUint8,o.writeInt16=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),i&&(this.offset+=2),this},o.writeShort=o.writeInt16,o.readInt16=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t],i|=this.view[t+1]<<8):(i=this.view[t]<<8,i|=this.view[t+1]),32768===(32768&i)&&(i=-(65535-i+1)),e&&(this.offset+=2),i},o.readShort=o.readInt16,o.writeUint16=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),i&&(this.offset+=2),this},o.writeUInt16=o.writeUint16,o.readUint16=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t],i|=this.view[t+1]<<8):(i=this.view[t]<<8,i|=this.view[t+1]),e&&(this.offset+=2),i},o.readUInt16=o.readUint16,o.writeInt32=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),i&&(this.offset+=4),this},o.writeInt=o.writeInt32,o.readInt32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0),i|=0,e&&(this.offset+=4),i},o.readInt=o.readInt32,o.writeUint32=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),i&&(this.offset+=4),this},o.writeUInt32=o.writeUint32,o.readUint32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0),e&&(this.offset+=4),i},o.readUInt32=o.readUint32,t&&(o.writeInt64=function(e,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),i+=8;var n=this.buffer.byteLength;i>n&&this.resize((n*=2)>i?n:i),i-=8;var s=e.low,o=e.high;return this.littleEndian?(this.view[i+3]=s>>>24&255,this.view[i+2]=s>>>16&255,this.view[i+1]=s>>>8&255,this.view[i]=255&s,i+=4,this.view[i+3]=o>>>24&255,this.view[i+2]=o>>>16&255,this.view[i+1]=o>>>8&255,this.view[i]=255&o):(this.view[i]=o>>>24&255,this.view[i+1]=o>>>16&255,this.view[i+2]=o>>>8&255,this.view[i+3]=255&o,i+=4,this.view[i]=s>>>24&255,this.view[i+1]=s>>>16&255,this.view[i+2]=s>>>8&255,this.view[i+3]=255&s),r&&(this.offset+=8),this},o.writeLong=o.writeInt64,o.readInt64=function(e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var s=new t(r,n,!1);return i&&(this.offset+=8),s},o.readLong=o.readInt64,o.writeUint64=function(e,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),i+=8;var n=this.buffer.byteLength;i>n&&this.resize((n*=2)>i?n:i),i-=8;var s=e.low,o=e.high;return this.littleEndian?(this.view[i+3]=s>>>24&255,this.view[i+2]=s>>>16&255,this.view[i+1]=s>>>8&255,this.view[i]=255&s,i+=4,this.view[i+3]=o>>>24&255,this.view[i+2]=o>>>16&255,this.view[i+1]=o>>>8&255,this.view[i]=255&o):(this.view[i]=o>>>24&255,this.view[i+1]=o>>>16&255,this.view[i+2]=o>>>8&255,this.view[i+3]=255&o,i+=4,this.view[i]=s>>>24&255,this.view[i+1]=s>>>16&255,this.view[i+2]=s>>>8&255,this.view[i+3]=255&s),r&&(this.offset+=8),this},o.writeUInt64=o.writeUint64,o.readUint64=function(e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var s=new t(r,n,!0);return i&&(this.offset+=8),s},o.readUInt64=o.readUint64),o.writeFloat32=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,n(this.view,t,e,this.littleEndian,23,4),i&&(this.offset+=4),this},o.writeFloat=o.writeFloat32,o.readFloat32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=r(this.view,t,this.littleEndian,23,4);return e&&(this.offset+=4),i},o.readFloat=o.readFloat32,o.writeFloat64=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=8,n(this.view,t,e,this.littleEndian,52,8),i&&(this.offset+=8),this},o.writeDouble=o.writeFloat64,o.readFloat64=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=r(this.view,t,this.littleEndian,52,8);return e&&(this.offset+=8),i},o.readDouble=o.readFloat64,s.MAX_VARINT32_BYTES=5,s.calculateVarint32=function(t){return t>>>=0,128>t?1:16384>t?2:1<<21>t?3:1<<28>t?4:5},s.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},s.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},o.writeVarint32=function(t,e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var r,n=s.calculateVarint32(t);e+=n;var o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=n,this.view[e]=r=128|t,t>>>=0,t>=128?(r=t>>7|128,this.view[e+1]=r,t>=16384?(r=t>>14|128,this.view[e+2]=r,t>=1<<21?(r=t>>21|128,this.view[e+3]=r,t>=1<<28?(this.view[e+4]=t>>28&15,n=5):(this.view[e+3]=127&r,n=4)):(this.view[e+2]=127&r,n=3)):(this.view[e+1]=127&r,n=2)):(this.view[e]=127&r,n=1),i?(this.offset+=n,this):n},o.writeVarint32ZigZag=function(t,e){return this.writeVarint32(s.zigZagEncode32(t),e)},o.readVarint32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i,r,n=0,s=0;do{if(r=t+n,!this.noAssert&&r>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}i=this.view[r],5>n&&(s|=(127&i)<<7*n>>>0),++n}while(128===(128&i));return s=0|s,e?(this.offset+=n,s):{value:s,length:n}},o.readVarint32ZigZag=function(t){var e=this.readVarint32(t);return"object"==typeof e?e.value=s.zigZagDecode32(e.value):e=s.zigZagDecode32(e),e},t&&(s.MAX_VARINT64_BYTES=10,s.calculateVarint64=function(e){"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e));var i=e.toInt()>>>0,r=e.shiftRightUnsigned(28).toInt()>>>0,n=e.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==r?16384>i?128>i?1:2:1<<21>i?3:4:16384>r?128>r?5:6:1<<21>r?7:8:128>n?9:10},s.zigZagEncode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):e.unsigned!==!1&&(e=e.toSigned()),e.shiftLeft(1).xor(e.shiftRight(63)).toUnsigned()},s.zigZagDecode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):e.unsigned!==!1&&(e=e.toSigned()),e.shiftRightUnsigned(1).xor(e.and(t.ONE).toSigned().negate()).toSigned()},o.writeVarint64=function(e,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):e.unsigned!==!1&&(e=e.toSigned());var n=s.calculateVarint64(e),o=e.toInt()>>>0,f=e.shiftRightUnsigned(28).toInt()>>>0,a=e.shiftRightUnsigned(56).toInt()>>>0;i+=n;var h=this.buffer.byteLength;switch(i>h&&this.resize((h*=2)>i?h:i),i-=n,n){case 10:this.view[i+9]=a>>>7&1;case 9:this.view[i+8]=9!==n?128|a:127&a;case 8:this.view[i+7]=8!==n?f>>>21|128:f>>>21&127;case 7:this.view[i+6]=7!==n?f>>>14|128:f>>>14&127;case 6:this.view[i+5]=6!==n?f>>>7|128:f>>>7&127;case 5:this.view[i+4]=5!==n?128|f:127&f;case 4:this.view[i+3]=4!==n?o>>>21|128:o>>>21&127;case 3:this.view[i+2]=3!==n?o>>>14|128:o>>>14&127;case 2:this.view[i+1]=2!==n?o>>>7|128:o>>>7&127;case 1:this.view[i]=1!==n?128|o:127&o}return r?(this.offset+=n,this):n},o.writeVarint64ZigZag=function(t,e){return this.writeVarint64(s.zigZagEncode64(t),e)},o.readVarint64=function(e){var i="undefined"==typeof e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,n=0,s=0,o=0,f=0;if(f=this.view[e++],n=127&f,128&f&&(f=this.view[e++],n|=(127&f)<<7,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],n|=(127&f)<<14,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],n|=(127&f)<<21,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],s=127&f,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],s|=(127&f)<<7,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],s|=(127&f)<<14,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],s|=(127&f)<<21,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],o=127&f,(128&f||this.noAssert&&"undefined"==typeof f)&&(f=this.view[e++],o|=(127&f)<<7,128&f||this.noAssert&&"undefined"==typeof f))))))))))throw Error("Buffer overrun");var a=t.fromBits(n|s<<28,s>>>4|o<<24,!1);return i?(this.offset=e,a):{value:a,length:e-r}},o.readVarint64ZigZag=function(e){var i=this.readVarint64(e);return i&&i.value instanceof t?i.value=s.zigZagDecode64(i.value):i=s.zigZagDecode64(i),i}),o.writeCString=function(t,i){var r="undefined"==typeof i;r&&(i=this.offset);var n,s=t.length;if(!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(n=0;s>n;++n)if(0===t.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}s=l.calculateUTF16asUTF8(e(t))[1],i+=s+1;var o=this.buffer.byteLength;return i>o&&this.resize((o*=2)>i?o:i),i-=s+1,l.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),this.view[i++]=0,r?(this.offset=i,this):s},o.readCString=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=t,s=-1;return l.decodeUTF8toUTF16(function(){if(0===s)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return s=this.view[t++],0===s?null:s}.bind(this),r=i(),!0),e?(this.offset=t,r()):{string:r(),length:t-n}},o.writeIString=function(t,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,s=i;n=l.calculateUTF16asUTF8(e(t),this.noAssert)[1],i+=4+n;var o=this.buffer.byteLength;if(i>o&&this.resize((o*=2)>i?o:i),i-=4+n,this.littleEndian?(this.view[i+3]=n>>>24&255,this.view[i+2]=n>>>16&255,this.view[i+1]=n>>>8&255,this.view[i]=255&n):(this.view[i]=n>>>24&255,this.view[i+1]=n>>>16&255,this.view[i+2]=n>>>8&255,this.view[i+3]=255&n),i+=4,l.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),i!==s+4+n)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+4+n));return r?(this.offset=i,this):i-s},o.readIString=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r,n=0,s=t;this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0),t+=4;var o,f=t+n;return l.decodeUTF8toUTF16(function(){return f>t?this.view[t++]:null}.bind(this),o=i(),this.noAssert),r=o(),e?(this.offset=t,r):{string:r,length:t-s}},s.METRICS_CHARS="c",s.METRICS_BYTES="b",o.writeUTF8String=function(t,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,s=i;n=l.calculateUTF16asUTF8(e(t))[1],i+=n;var o=this.buffer.byteLength;return i>o&&this.resize((o*=2)>i?o:i),i-=n,l.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),r?(this.offset=i,this):i-s},o.writeString=o.writeUTF8String,s.calculateUTF8Chars=function(t){return l.calculateUTF16asUTF8(e(t))[0]},s.calculateUTF8Bytes=function(t){return l.calculateUTF16asUTF8(e(t))[1]},s.calculateString=s.calculateUTF8Bytes,o.readUTF8String=function(t,e,r){"number"==typeof e&&(r=e,e=void 0);var n="undefined"==typeof r;if(n&&(r=this.offset),"undefined"==typeof e&&(e=s.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,f=0,a=r;if(e===s.METRICS_CHARS){if(o=i(),l.decodeUTF8(function(){return t>f&&r<this.limit?this.view[r++]:null}.bind(this),function(t){++f,l.UTF8toUTF16(t,o)}),f!==t)throw RangeError("Illegal range: Truncated data, "+f+" == "+t);return n?(this.offset=r,o()):{string:o(),length:r-a}}if(e===s.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+t+") <= "+this.buffer.byteLength)}var h=r+t;if(l.decodeUTF8toUTF16(function(){return h>r?this.view[r++]:null}.bind(this),o=i(),this.noAssert),r!==h)throw RangeError("Illegal range: Truncated data, "+r+" == "+h);return n?(this.offset=r,o()):{string:o(),length:r-a}}throw TypeError("Unsupported metrics: "+e)},o.readString=o.readUTF8String,o.writeVString=function(t,i){var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,o,f=i;n=l.calculateUTF16asUTF8(e(t),this.noAssert)[1],o=s.calculateVarint32(n),i+=o+n;var a=this.buffer.byteLength;if(i>a&&this.resize((a*=2)>i?a:i),i-=o+n,i+=this.writeVarint32(n,i),l.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),i!==f+n+o)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+n+o));return r?(this.offset=i,this):i-f},o.readVString=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=this.readVarint32(t),s=t;t+=n.length,n=n.value;var o=t+n,f=i();return l.decodeUTF8toUTF16(function(){return o>t?this.view[t++]:null}.bind(this),f,this.noAssert),r=f(),e?(this.offset=t,r):{string:r,length:t-s}},o.append=function(t,e,i){("number"==typeof e||"string"!=typeof e)&&(i=e,e=void 0);var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}t instanceof s||(t=s.wrap(t,e));var n=t.limit-t.offset;if(0>=n)return this;i+=n;var o=this.buffer.byteLength;return i>o&&this.resize((o*=2)>i?o:i),i-=n,this.view.set(t.view.subarray(t.offset,t.limit),i),t.offset+=n,r&&(this.offset+=n),this},o.appendTo=function(t,e){return t.append(this,e),this},o.assert=function(t){return this.noAssert=!t,this},o.capacity=function(){return this.buffer.byteLength},o.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},o.clone=function(t){var e=new s(0,this.littleEndian,this.noAssert);return t?(e.buffer=new ArrayBuffer(this.buffer.byteLength),e.view=new Uint8Array(e.buffer)):(e.buffer=this.buffer,e.view=this.view),e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e},o.compact=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var i=e-t;if(0===i)return this.buffer=f,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var r=new ArrayBuffer(i),n=new Uint8Array(r);return n.set(this.view.subarray(t,e)),this.buffer=r,this.view=n,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=i,this},o.copy=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return new s(0,this.littleEndian,this.noAssert);var i=e-t,r=new s(i,this.littleEndian,this.noAssert);return r.offset=0,r.limit=i,r.markedOffset>=0&&(r.markedOffset-=t),this.copyTo(r,0,t,e),r},o.copyTo=function(t,e,i,r){var n,o;if(!this.noAssert&&!s.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(e=(o="undefined"==typeof e)?t.offset:0|e,i=(n="undefined"==typeof i)?this.offset:0|i,r="undefined"==typeof r?this.limit:0|r,0>e||e>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+e+" <= "+t.buffer.byteLength);if(0>i||r>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+i+" <= "+this.buffer.byteLength);var f=r-i;return 0===f?t:(t.ensureCapacity(e+f),t.view.set(this.view.subarray(i,r),e),n&&(this.offset+=f),o&&(t.offset+=f),this)},o.ensureCapacity=function(t){var e=this.buffer.byteLength;return t>e?this.resize((e*=2)>t?e:t):this},o.fill=function(t,e,i){var r="undefined"==typeof e;if(r&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),"undefined"==typeof e&&(e=this.offset),"undefined"==typeof i&&(i=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof i||i%1!==0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,0>e||e>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+i+" <= "+this.buffer.byteLength)}if(e>=i)return this;for(;i>e;)this.view[e++]=t;return r&&(this.offset=e),this},o.flip=function(){return this.limit=this.offset,this.offset=0,this},o.mark=function(t){
if(t="undefined"==typeof t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},o.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},o.LE=function(t){return this.littleEndian="undefined"!=typeof t?!!t:!0,this},o.BE=function(t){return this.littleEndian="undefined"!=typeof t?!t:!1,this},o.prepend=function(t,e,i){("number"==typeof e||"string"!=typeof e)&&(i=e,e=void 0);var r="undefined"==typeof i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}t instanceof s||(t=s.wrap(t,e));var n=t.limit-t.offset;if(0>=n)return this;var o=n-i;if(o>0){var f=new ArrayBuffer(this.buffer.byteLength+o),a=new Uint8Array(f);a.set(this.view.subarray(i,this.buffer.byteLength),n),this.buffer=f,this.view=a,this.offset+=o,this.markedOffset>=0&&(this.markedOffset+=o),this.limit+=o,i+=o}else{new Uint8Array(this.buffer)}return this.view.set(t.view.subarray(t.offset,t.limit),i-n),t.offset=t.limit,r&&(this.offset-=n),this},o.prependTo=function(t,e){return t.prepend(this,e),this},o.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},o.remaining=function(){return this.limit-this.offset},o.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},o.resize=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if(t|=0,0>t)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),i=new Uint8Array(e);i.set(this.view),this.buffer=e,this.view=i}return this},o.reverse=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e?this:(Array.prototype.reverse.call(this.view.subarray(t,e)),this)},o.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(0>e||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},o.slice=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var i=this.clone();return i.offset=t,i.limit=e,i},o.toBuffer=function(t){var e=this.offset,i=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof i||i%1!==0)throw TypeError("Illegal limit: Not an integer");if(i>>>=0,0>e||e>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+i+" <= "+this.buffer.byteLength)}if(!t&&0===e&&i===this.buffer.byteLength)return this.buffer;if(e===i)return f;var r=new ArrayBuffer(i-e);return new Uint8Array(r).set(new Uint8Array(this.buffer).subarray(e,i),0),r},o.toArrayBuffer=o.toBuffer,o.toString=function(t,e,i){if("undefined"==typeof t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof t&&(t="utf8",e=t,i=e),t){case"utf8":return this.toUTF8(e,i);case"base64":return this.toBase64(e,i);case"hex":return this.toHex(e,i);case"binary":return this.toBinary(e,i);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var h=function(){for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],i=[],r=0,n=e.length;n>r;++r)i[e[r]]=r;return t.encode=function(t,i){for(var r,n;null!==(r=t());)i(e[r>>2&63]),n=(3&r)<<4,null!==(r=t())?(n|=r>>4&15,i(e[63&(n|r>>4&15)]),n=(15&r)<<2,null!==(r=t())?(i(e[63&(n|r>>6&3)]),i(e[63&r])):(i(e[63&n]),i(61))):(i(e[63&n]),i(61),i(61))},t.decode=function(t,e){function r(t){throw Error("Illegal character code: "+t)}for(var n,s,o;null!==(n=t());)if(s=i[n],"undefined"==typeof s&&r(n),null!==(n=t())&&(o=i[n],"undefined"==typeof o&&r(n),e(s<<2>>>0|(48&o)>>4),null!==(n=t()))){if(s=i[n],"undefined"==typeof s){if(61===n)break;r(n)}if(e((15&o)<<4>>>0|(60&s)>>2),null!==(n=t())){if(o=i[n],"undefined"==typeof o){if(61===n)break;r(n)}e((3&s)<<6>>>0|o)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();o.toBase64=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r;return h.encode(function(){return e>t?this.view[t++]:null}.bind(this),r=i()),r()},s.fromBase64=function(t,i,r){if(!r){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%4!==0)throw TypeError("Illegal str: Length not a multiple of 4")}var n=new s(t.length/4*3,i,r),o=0;return h.decode(e(t),function(t){n.view[o++]=t}),n.limit=o,n},s.btoa=function(t){return s.fromBinary(t).toBase64()},s.atob=function(t){return s.fromBase64(t).toBinary()},o.toBinary=function(t,e){if(t="undefined"==typeof t?this.offset:t,e="undefined"==typeof e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return"";for(var i=[],r=[];e>t;)i.push(this.view[t++]),i.length>=1024&&(r.push(String.fromCharCode.apply(String,i)),i=[]);return r.join("")+String.fromCharCode.apply(String,i)},s.fromBinary=function(t,e,i){if(!i&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");for(var r,n=0,o=t.length,f=new s(o,e,i);o>n;){if(r=t.charCodeAt(n),!i&&r>255)throw RangeError("Illegal charCode at "+n+": 0 <= "+r+" <= 255");f.view[n++]=r}return f.limit=o,f},o.toDebug=function(t){for(var e,i=-1,r=this.buffer.byteLength,n="",s="",o="";r>i;){if(-1!==i&&(e=this.view[i],n+=16>e?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(s+=e>32&&127>e?String.fromCharCode(e):".")),++i,t&&i>0&&i%16===0&&i!==r){for(;n.length<51;)n+=" ";o+=n+s+"\n",n=s=""}n+=i===this.offset&&i===this.limit?i===this.markedOffset?"!":"|":i===this.offset?i===this.markedOffset?"[":"<":i===this.limit?i===this.markedOffset?"]":">":i===this.markedOffset?"'":t||0!==i&&i!==r?" ":""}if(t&&" "!==n){for(;n.length<51;)n+=" ";o+=n+s+"\n"}return t?o:n},s.fromDebug=function(t,e,i){for(var r,n,o=t.length,f=new s((o+1)/3|0,e,i),a=0,h=0,l=!1,u=!1,g=!1,p=!1,d=!1;o>a;){switch(r=t.charAt(a++)){case"!":if(!i){if(u||g||p){d=!0;break}u=g=p=!0}f.offset=f.markedOffset=f.limit=h,l=!1;break;case"|":if(!i){if(u||p){d=!0;break}u=p=!0}f.offset=f.limit=h,l=!1;break;case"[":if(!i){if(u||g){d=!0;break}u=g=!0}f.offset=f.markedOffset=h,l=!1;break;case"<":if(!i){if(u){d=!0;break}u=!0}f.offset=h,l=!1;break;case"]":if(!i){if(p||g){d=!0;break}p=g=!0}f.limit=f.markedOffset=h,l=!1;break;case">":if(!i){if(p){d=!0;break}p=!0}f.limit=h,l=!1;break;case"'":if(!i){if(g){d=!0;break}g=!0}f.markedOffset=h,l=!1;break;case" ":l=!1;break;default:if(!i&&l){d=!0;break}if(n=parseInt(r+t.charAt(a++),16),!i&&(isNaN(n)||0>n||n>255))throw TypeError("Illegal str: Not a debug encoded string");f.view[h++]=n,l=!0}if(d)throw TypeError("Illegal str: Invalid symbol at "+a)}if(!i){if(!u||!p)throw TypeError("Illegal str: Missing offset or limit");if(h<f.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+h+" < "+o)}return f},o.toHex=function(t,e){if(t="undefined"==typeof t?this.offset:t,e="undefined"==typeof e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var i,r=new Array(e-t);e>t;)i=this.view[t++],16>i?r.push("0",i.toString(16)):r.push(i.toString(16));return r.join("")},s.fromHex=function(t,e,i){if(!i){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var r,n=t.length,o=new s(n/2|0,e),f=0,a=0;n>f;f+=2){if(r=parseInt(t.substring(f,f+2),16),!i&&(!isFinite(r)||0>r||r>255))throw TypeError("Illegal str: Contains non-hex characters");o.view[a++]=r}return o.limit=a,o};var l=function(){var t={};return t.MAX_CODEPOINT=1114111,t.encodeUTF8=function(t,e){var i=null;for("number"==typeof t&&(i=t,t=function(){return null});null!==i||null!==(i=t());)128>i?e(127&i):2048>i?(e(i>>6&31|192),e(63&i|128)):65536>i?(e(i>>12&15|224),e(i>>6&63|128),e(63&i|128)):(e(i>>18&7|240),e(i>>12&63|128),e(i>>6&63|128),e(63&i|128)),i=null},t.decodeUTF8=function(t,e){for(var i,r,n,s,o=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(i=t());)if(0===(128&i))e(i);else if(192===(224&i))null===(r=t())&&o([i,r]),e((31&i)<<6|63&r);else if(224===(240&i))(null===(r=t())||null===(n=t()))&&o([i,r,n]),e((15&i)<<12|(63&r)<<6|63&n);else{if(240!==(248&i))throw RangeError("Illegal starting byte: "+i);(null===(r=t())||null===(n=t())||null===(s=t()))&&o([i,r,n,s]),e((7&i)<<18|(63&r)<<12|(63&n)<<6|63&s)}},t.UTF16toUTF8=function(t,e){for(var i,r=null;;){if(null===(i=null!==r?r:t()))break;i>=55296&&57343>=i&&null!==(r=t())&&r>=56320&&57343>=r?(e(1024*(i-55296)+r-56320+65536),r=null):e(i)}null!==r&&e(r)},t.UTF8toUTF16=function(t,e){var i=null;for("number"==typeof t&&(i=t,t=function(){return null});null!==i||null!==(i=t());)65535>=i?e(i):(i-=65536,e((i>>10)+55296),e(i%1024+56320)),i=null},t.encodeUTF16toUTF8=function(e,i){t.UTF16toUTF8(e,function(e){t.encodeUTF8(e,i)})},t.decodeUTF8toUTF16=function(e,i){t.decodeUTF8(e,function(e){t.UTF8toUTF16(e,i)})},t.calculateCodePoint=function(t){return 128>t?1:2048>t?2:65536>t?3:4},t.calculateUTF8=function(t){for(var e,i=0;null!==(e=t());)i+=128>e?1:2048>e?2:65536>e?3:4;return i},t.calculateUTF16asUTF8=function(e){var i=0,r=0;return t.UTF16toUTF8(e,function(t){++i,r+=128>t?1:2048>t?2:65536>t?3:4}),[i,r]},t}();return o.toUTF8=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r;try{l.decodeUTF8toUTF16(function(){return e>t?this.view[t++]:null}.bind(this),r=i())}catch(n){if(t!==e)throw RangeError("Illegal range: Truncated data, "+t+" != "+e)}return r()},s.fromUTF8=function(t,i,r){if(!r&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var n=new s(l.calculateUTF16asUTF8(e(t),!0)[1],i,r),o=0;return l.encodeUTF16toUTF8(e(t),function(t){n.view[o++]=t}),n.limit=o,n},s})}).call(e,i(2)(t))},function(t,e,i){var r;(function(t){/**
	 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/Long.js for details
	 */
!function(n){"use strict";var s=function(t,e,i){this.low=0|t,this.high=0|e,this.unsigned=!!i};s.isLong=function(t){return(t&&t instanceof s)===!0};var o={},f={};s.fromInt=function(t,e){var i,r;return e?(t>>>=0,t>=0&&256>t&&(r=f[t])?r:(i=new s(t,0>(0|t)?-1:0,!0),t>=0&&256>t&&(f[t]=i),i)):(t=0|t,t>=-128&&128>t&&(r=o[t])?r:(i=new s(t,0>t?-1:0,!1),t>=-128&&128>t&&(o[t]=i),i))},s.fromNumber=function(t,e){return e=!!e,isNaN(t)||!isFinite(t)?s.ZERO:!e&&-g>=t?s.MIN_VALUE:!e&&t+1>=g?s.MAX_VALUE:e&&t>=u?s.MAX_UNSIGNED_VALUE:0>t?s.fromNumber(-t,e).negate():new s(t%l|0,t/l|0,e)},s.fromBits=function(t,e,i){return new s(t,e,i)},s.fromString=function(t,e,i){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return s.ZERO;if("number"==typeof e&&(i=e,e=!1),i=i||10,2>i||i>36)throw Error("radix out of range: "+i);var r;if((r=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===r)return s.fromString(t.substring(1),e,i).negate();for(var n=s.fromNumber(Math.pow(i,8)),o=s.ZERO,f=0;f<t.length;f+=8){var a=Math.min(8,t.length-f),h=parseInt(t.substring(f,f+a),i);if(8>a){var l=s.fromNumber(Math.pow(i,a));o=o.multiply(l).add(s.fromNumber(h))}else o=o.multiply(n),o=o.add(s.fromNumber(h))}return o.unsigned=e,o},s.fromValue=function(t){return"number"==typeof t?s.fromNumber(t):"string"==typeof t?s.fromString(t):s.isLong(t)?t:new s(t.low,t.high,t.unsigned)};var a=65536,h=1<<24,l=a*a,u=l*l,g=u/2,p=s.fromInt(h);s.ZERO=s.fromInt(0),s.UZERO=s.fromInt(0,!0),s.ONE=s.fromInt(1),s.UONE=s.fromInt(1,!0),s.NEG_ONE=s.fromInt(-1),s.MAX_VALUE=s.fromBits(-1,2147483647,!1),s.MAX_UNSIGNED_VALUE=s.fromBits(-1,-1,!0),s.MIN_VALUE=s.fromBits(0,-2147483648,!1),s.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},s.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},s.prototype.toString=function(t){if(t=t||10,2>t||t>36)throw RangeError("radix out of range: "+t);if(this.isZero())return"0";var e;if(this.isNegative()){if(this.equals(s.MIN_VALUE)){var i=s.fromNumber(t),r=this.div(i);return e=r.multiply(i).subtract(this),r.toString(t)+e.toInt().toString(t)}return"-"+this.negate().toString(t)}var n=s.fromNumber(Math.pow(t,6),this.unsigned);e=this;for(var o="";;){var f=e.div(n),a=e.subtract(f.multiply(n)).toInt()>>>0,h=a.toString(t);if(e=f,e.isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}},s.prototype.getHighBits=function(){return this.high},s.prototype.getHighBitsUnsigned=function(){return this.high>>>0},s.prototype.getLowBits=function(){return this.low},s.prototype.getLowBitsUnsigned=function(){return this.low>>>0},s.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(s.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},s.prototype.isZero=function(){return 0===this.high&&0===this.low},s.prototype.isNegative=function(){return!this.unsigned&&this.high<0},s.prototype.isPositive=function(){return this.unsigned||this.high>=0},s.prototype.isOdd=function(){return 1===(1&this.low)},s.prototype.isEven=function(){return 0===(1&this.low)},s.prototype.equals=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},s.prototype.notEquals=function(t){return s.isLong(t)||(t=s.fromValue(t)),!this.equals(t)},s.prototype.lessThan=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)<0},s.prototype.lessThanOrEqual=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)<=0},s.prototype.greaterThan=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)>0},s.prototype.greaterThanOrEqual=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)>=0},s.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),i=t.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.subtract(t).isNegative()?-1:1},s.prototype.negate=function(){return!this.unsigned&&this.equals(s.MIN_VALUE)?s.MIN_VALUE:this.not().add(s.ONE)},s.prototype.add=function(t){s.isLong(t)||(t=s.fromValue(t));var e=this.high>>>16,i=65535&this.high,r=this.low>>>16,n=65535&this.low,o=t.high>>>16,f=65535&t.high,a=t.low>>>16,h=65535&t.low,l=0,u=0,g=0,p=0;return p+=n+h,g+=p>>>16,p&=65535,g+=r+a,u+=g>>>16,g&=65535,u+=i+f,l+=u>>>16,u&=65535,l+=e+o,l&=65535,s.fromBits(g<<16|p,l<<16|u,this.unsigned)},s.prototype.subtract=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.add(t.negate())},s.prototype.multiply=function(t){if(this.isZero())return s.ZERO;if(s.isLong(t)||(t=s.fromValue(t)),t.isZero())return s.ZERO;if(this.equals(s.MIN_VALUE))return t.isOdd()?s.MIN_VALUE:s.ZERO;if(t.equals(s.MIN_VALUE))return this.isOdd()?s.MIN_VALUE:s.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(p)&&t.lessThan(p))return s.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,i=65535&this.high,r=this.low>>>16,n=65535&this.low,o=t.high>>>16,f=65535&t.high,a=t.low>>>16,h=65535&t.low,l=0,u=0,g=0,d=0;return d+=n*h,g+=d>>>16,d&=65535,g+=r*h,u+=g>>>16,g&=65535,g+=n*a,u+=g>>>16,g&=65535,u+=i*h,l+=u>>>16,u&=65535,u+=r*a,l+=u>>>16,u&=65535,u+=n*f,l+=u>>>16,u&=65535,l+=e*h+i*a+r*f+n*o,l&=65535,s.fromBits(g<<16|d,l<<16|u,this.unsigned)},s.prototype.div=function(t){if(s.isLong(t)||(t=s.fromValue(t)),t.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?s.UZERO:s.ZERO;var e,i,r;if(this.equals(s.MIN_VALUE)){if(t.equals(s.ONE)||t.equals(s.NEG_ONE))return s.MIN_VALUE;if(t.equals(s.MIN_VALUE))return s.ONE;var n=this.shiftRight(1);return e=n.div(t).shiftLeft(1),e.equals(s.ZERO)?t.isNegative()?s.ONE:s.NEG_ONE:(i=this.subtract(t.multiply(e)),r=e.add(i.div(t)))}if(t.equals(s.MIN_VALUE))return this.unsigned?s.UZERO:s.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();for(r=s.ZERO,i=this;i.greaterThanOrEqual(t);){e=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(e)/Math.LN2),f=48>=o?1:Math.pow(2,o-48),a=s.fromNumber(e),h=a.multiply(t);h.isNegative()||h.greaterThan(i);)e-=f,a=s.fromNumber(e,this.unsigned),h=a.multiply(t);a.isZero()&&(a=s.ONE),r=r.add(a),i=i.subtract(h)}return r},s.prototype.modulo=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.subtract(this.div(t).multiply(t))},s.prototype.not=function(){return s.fromBits(~this.low,~this.high,this.unsigned)},s.prototype.and=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},s.prototype.or=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},s.prototype.xor=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},s.prototype.shiftLeft=function(t){return s.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:32>t?s.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):s.fromBits(0,this.low<<t-32,this.unsigned)},s.prototype.shiftRight=function(t){return s.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:32>t?s.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):s.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},s.prototype.shiftRightUnsigned=function(t){if(s.isLong(t)&&(t=t.toInt()),t&=63,0===t)return this;var e=this.high;if(32>t){var i=this.low;return s.fromBits(i>>>t|e<<32-t,e>>>t,this.unsigned)}return 32===t?s.fromBits(e,0,this.unsigned):s.fromBits(e>>>t-32,0,this.unsigned)},s.prototype.toSigned=function(){return this.unsigned?new s(this.low,this.high,!1):this},s.prototype.toUnsigned=function(){return this.unsigned?this:new s(this.low,this.high,!0)},"object"==typeof t&&t&&"object"==typeof e&&e?t.exports=s:i(1).amd?(r=function(){return s}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))):(n.dcodeIO=n.dcodeIO||{}).Long=s}(this)}).call(e,i(2)(t))},function(t,e,i){var r;(function(t){/**
	 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/Long.js for details
	 */
!function(n){"use strict";var s=function(t,e,i){this.low=0|t,this.high=0|e,this.unsigned=!!i};s.isLong=function(t){return(t&&t instanceof s)===!0};var o={},f={};s.fromInt=function(t,e){var i,r;return e?(t>>>=0,t>=0&&256>t&&(r=f[t])?r:(i=new s(t,0>(0|t)?-1:0,!0),t>=0&&256>t&&(f[t]=i),i)):(t=0|t,t>=-128&&128>t&&(r=o[t])?r:(i=new s(t,0>t?-1:0,!1),t>=-128&&128>t&&(o[t]=i),i))},s.fromNumber=function(t,e){return e=!!e,isNaN(t)||!isFinite(t)?s.ZERO:!e&&-g>=t?s.MIN_VALUE:!e&&t+1>=g?s.MAX_VALUE:e&&t>=u?s.MAX_UNSIGNED_VALUE:0>t?s.fromNumber(-t,e).negate():new s(t%l|0,t/l|0,e)},s.fromBits=function(t,e,i){return new s(t,e,i)},s.fromString=function(t,e,i){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return s.ZERO;if("number"==typeof e&&(i=e,e=!1),i=i||10,2>i||i>36)throw Error("radix out of range: "+i);var r;if((r=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===r)return s.fromString(t.substring(1),e,i).negate();for(var n=s.fromNumber(Math.pow(i,8)),o=s.ZERO,f=0;f<t.length;f+=8){var a=Math.min(8,t.length-f),h=parseInt(t.substring(f,f+a),i);if(8>a){var l=s.fromNumber(Math.pow(i,a));o=o.multiply(l).add(s.fromNumber(h))}else o=o.multiply(n),o=o.add(s.fromNumber(h))}return o.unsigned=e,o},s.fromValue=function(t){return"number"==typeof t?s.fromNumber(t):"string"==typeof t?s.fromString(t):s.isLong(t)?t:new s(t.low,t.high,t.unsigned)};var a=65536,h=1<<24,l=a*a,u=l*l,g=u/2,p=s.fromInt(h);s.ZERO=s.fromInt(0),s.UZERO=s.fromInt(0,!0),s.ONE=s.fromInt(1),s.UONE=s.fromInt(1,!0),s.NEG_ONE=s.fromInt(-1),s.MAX_VALUE=s.fromBits(-1,2147483647,!1),s.MAX_UNSIGNED_VALUE=s.fromBits(-1,-1,!0),s.MIN_VALUE=s.fromBits(0,-2147483648,!1),s.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},s.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},s.prototype.toString=function(t){if(t=t||10,2>t||t>36)throw RangeError("radix out of range: "+t);if(this.isZero())return"0";var e;if(this.isNegative()){if(this.equals(s.MIN_VALUE)){var i=s.fromNumber(t),r=this.div(i);return e=r.multiply(i).subtract(this),r.toString(t)+e.toInt().toString(t)}return"-"+this.negate().toString(t)}var n=s.fromNumber(Math.pow(t,6),this.unsigned);e=this;for(var o="";;){var f=e.div(n),a=e.subtract(f.multiply(n)).toInt()>>>0,h=a.toString(t);if(e=f,e.isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}},s.prototype.getHighBits=function(){return this.high},s.prototype.getHighBitsUnsigned=function(){return this.high>>>0},s.prototype.getLowBits=function(){return this.low},s.prototype.getLowBitsUnsigned=function(){return this.low>>>0},s.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(s.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},s.prototype.isZero=function(){return 0===this.high&&0===this.low},s.prototype.isNegative=function(){return!this.unsigned&&this.high<0},s.prototype.isPositive=function(){return this.unsigned||this.high>=0},s.prototype.isOdd=function(){return 1===(1&this.low)},s.prototype.isEven=function(){return 0===(1&this.low)},s.prototype.equals=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},s.prototype.notEquals=function(t){return s.isLong(t)||(t=s.fromValue(t)),!this.equals(t)},s.prototype.lessThan=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)<0},s.prototype.lessThanOrEqual=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)<=0},s.prototype.greaterThan=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)>0},s.prototype.greaterThanOrEqual=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.compare(t)>=0},s.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),i=t.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.subtract(t).isNegative()?-1:1},s.prototype.negate=function(){return!this.unsigned&&this.equals(s.MIN_VALUE)?s.MIN_VALUE:this.not().add(s.ONE)},s.prototype.add=function(t){s.isLong(t)||(t=s.fromValue(t));var e=this.high>>>16,i=65535&this.high,r=this.low>>>16,n=65535&this.low,o=t.high>>>16,f=65535&t.high,a=t.low>>>16,h=65535&t.low,l=0,u=0,g=0,p=0;return p+=n+h,g+=p>>>16,p&=65535,g+=r+a,u+=g>>>16,g&=65535,u+=i+f,l+=u>>>16,u&=65535,l+=e+o,l&=65535,s.fromBits(g<<16|p,l<<16|u,this.unsigned)},s.prototype.subtract=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.add(t.negate())},s.prototype.multiply=function(t){if(this.isZero())return s.ZERO;if(s.isLong(t)||(t=s.fromValue(t)),t.isZero())return s.ZERO;if(this.equals(s.MIN_VALUE))return t.isOdd()?s.MIN_VALUE:s.ZERO;if(t.equals(s.MIN_VALUE))return this.isOdd()?s.MIN_VALUE:s.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(p)&&t.lessThan(p))return s.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,i=65535&this.high,r=this.low>>>16,n=65535&this.low,o=t.high>>>16,f=65535&t.high,a=t.low>>>16,h=65535&t.low,l=0,u=0,g=0,d=0;return d+=n*h,g+=d>>>16,d&=65535,g+=r*h,u+=g>>>16,g&=65535,g+=n*a,u+=g>>>16,g&=65535,u+=i*h,l+=u>>>16,u&=65535,u+=r*a,l+=u>>>16,u&=65535,u+=n*f,l+=u>>>16,u&=65535,l+=e*h+i*a+r*f+n*o,l&=65535,s.fromBits(g<<16|d,l<<16|u,this.unsigned)},s.prototype.div=function(t){if(s.isLong(t)||(t=s.fromValue(t)),t.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?s.UZERO:s.ZERO;var e,i,r;if(this.equals(s.MIN_VALUE)){if(t.equals(s.ONE)||t.equals(s.NEG_ONE))return s.MIN_VALUE;if(t.equals(s.MIN_VALUE))return s.ONE;var n=this.shiftRight(1);return e=n.div(t).shiftLeft(1),e.equals(s.ZERO)?t.isNegative()?s.ONE:s.NEG_ONE:(i=this.subtract(t.multiply(e)),r=e.add(i.div(t)))}if(t.equals(s.MIN_VALUE))return this.unsigned?s.UZERO:s.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();for(r=s.ZERO,i=this;i.greaterThanOrEqual(t);){e=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(e)/Math.LN2),f=48>=o?1:Math.pow(2,o-48),a=s.fromNumber(e),h=a.multiply(t);h.isNegative()||h.greaterThan(i);)e-=f,a=s.fromNumber(e,this.unsigned),h=a.multiply(t);a.isZero()&&(a=s.ONE),r=r.add(a),i=i.subtract(h)}return r},s.prototype.modulo=function(t){return s.isLong(t)||(t=s.fromValue(t)),this.subtract(this.div(t).multiply(t))},s.prototype.not=function(){return s.fromBits(~this.low,~this.high,this.unsigned)},s.prototype.and=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},s.prototype.or=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},s.prototype.xor=function(t){return s.isLong(t)||(t=s.fromValue(t)),s.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},s.prototype.shiftLeft=function(t){return s.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:32>t?s.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):s.fromBits(0,this.low<<t-32,this.unsigned)},s.prototype.shiftRight=function(t){return s.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:32>t?s.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):s.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},s.prototype.shiftRightUnsigned=function(t){if(s.isLong(t)&&(t=t.toInt()),t&=63,0===t)return this;var e=this.high;if(32>t){var i=this.low;return s.fromBits(i>>>t|e<<32-t,e>>>t,this.unsigned)}return 32===t?s.fromBits(e,0,this.unsigned):s.fromBits(e>>>t-32,0,this.unsigned)},s.prototype.toSigned=function(){return this.unsigned?new s(this.low,this.high,!1):this},s.prototype.toUnsigned=function(){return this.unsigned?this:new s(this.low,this.high,!0)},"object"==typeof t&&t&&"object"==typeof e&&e?t.exports=s:i(1).amd?(r=function(){return s}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))):(n.dcodeIO=n.dcodeIO||{}).Long=s}(this)}).call(e,i(2)(t))}])});